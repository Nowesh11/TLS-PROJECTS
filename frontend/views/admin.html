<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Tamil Language Society</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Noto+Sans+Tamil:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- TinyMCE WYSIWYG Editor - Self-hosted alternative -->
    <script src="https://cdn.jsdelivr.net/npm/tinymce@6/tinymce.min.js" referrerpolicy="origin"></script>
    
    <!-- Unified Theme System -->
    <link rel="stylesheet" href="/frontend/public/css/unified-theme.css?v=3.0">
    <!-- Admin-specific styles -->
    <link rel="stylesheet" href="frontend/public/css/admin.css?v=10.0">
    <link rel="stylesheet" href="frontend/public/css/form-builder.css?v=10.0">
    <link rel="stylesheet" href="frontend/public/css/recruitment-manager.css?v=10.0">
    <link rel="stylesheet" href="frontend/public/css/individual-form-editor.css?v=10.0">
    <link rel="stylesheet" href="frontend/public/css/individual-form-builder.css?v=10.0">
    
    <!-- Chart.js for Admin Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="frontend/public/js/browser-compatibility.js"></script>
    <script src="frontend/public/js/browser-testing.js"></script>
    <script src="frontend/public/js/cache-buster.js?v=10.0"></script>
    <script src="frontend/public/js/cache-manager.js?v=10.0"></script>
    
    <style>
        /* Page-specific overrides can be added here if needed */

        /* Page-specific overrides can be added here if needed */

        /* Page-specific overrides can be added here if needed */

        /* Page-specific overrides can be added here if needed */

        /* Charts and graphs */
        .chart,
        .graph,
        .chart-wrapper,
        .graph-container,
        canvas {
            border-radius: var(--radius-lg) !important;
        }

        /* Search and filter elements */
        .search-box,
        .filter-box,
        .search-container,
        .filter-container {
            border-radius: var(--radius-md) !important;
        }

        /* Sidebar specific elements */
        .sidebar-section,
        .sidebar-widget,
        .sidebar-menu {
            border-radius: var(--radius-lg) !important;
        }

        /* Activity and recent items */
        .activity-item,
        .recent-item,
        .history-item,
        .log-item {
            border-radius: var(--radius-md) !important;
        }

        /* File upload areas */
        .file-upload,
        .upload-area,
        .drop-zone,
        .file-input {
            border-radius: var(--radius-lg) !important;
        }

        /* Code and pre elements */
        code,
        pre,
        .code-block,
        .syntax-highlight {
            border-radius: var(--radius-sm) !important;
        }

        /* Specific dashboard background sections */
        .dashboard-background,
        .main-background,
        .content-background,
        .section-background,
        .panel-background {
            border-radius: var(--radius-2xl) !important;
        }

        /* Override any sharp edges */
        * {
            border-radius: inherit;
        }

        /* Ensure nested elements inherit proper radius */
        .card .card,
        .panel .panel,
        .section .section {
            border-radius: calc(var(--radius-lg) * 0.75) !important;
        }

        /* Special cases for very small elements */
        .dot,
        .bullet,
        .indicator-dot {
            border-radius: 50% !important;
        }

        /* Ensure form groups have proper spacing and curves */
        .form-group,
        .input-group,
        .field-group {
            border-radius: var(--radius-md) !important;
        }

        /* Content editor specific elements */
        .content-editor,
        .editor-container,
        .editor-toolbar,
        .editor-content {
            border-radius: var(--radius-lg) !important;
        }

        /* Website content management sections */
         .website-content-section,
         .content-management-panel,
         .page-editor,
         .section-editor {
             border-radius: var(--radius-xl) !important;
         }

        /* Apply animations to elements */
        .admin-sidebar {
            animation: slideInFromLeft 0.6s ease-out;
        }

        .admin-main {
            animation: slideInFromTop 0.8s ease-out;
        }

        .nav-item {
            animation: fadeInScale 0.4s ease-out;
            animation-delay: calc(var(--item-index, 0) * 0.1s);
        }

        .theme-toggle {
            animation: pulseGlow 2s infinite;
        }

        /* Comprehensive Table Styling */
        table {
            background: var(--bg-secondary);
            border-radius: 0.75rem;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            backdrop-filter: blur(10px);
        }

        table thead {
            background: var(--bg-tertiary) !important;
            backdrop-filter: blur(15px) !important;
        }

        table th {
            padding: 1rem !important;
            text-align: left !important;
            font-weight: 600 !important;
            color: var(--text-primary) !important;
            border-bottom: 2px solid var(--border-accent) !important;
            background: var(--bg-tertiary) !important;
        }

        table td {
            padding: 1rem !important;
            color: var(--text-primary) !important;
            border-bottom: 1px solid var(--border-secondary) !important;
            background: var(--bg-secondary) !important;
            transition: all var(--transition-normal);
        }

        table tbody tr:hover {
            background: var(--glass-bg) !important;
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        /* Chat and Message Styling */
        .chat-container, .message-container {
            background: var(--bg-secondary) !important;
            color: var(--text-primary) !important;
            border: 2px solid var(--border-secondary) !important;
            border-radius: 0.75rem !important;
            backdrop-filter: blur(10px) !important;
        }

        .chat-header, .message-header {
            background: var(--bg-tertiary) !important;
            color: var(--text-primary) !important;
            border-bottom: 1px solid var(--border-secondary) !important;
        }

        .chat-messages, .message-content {
            background: var(--bg-primary) !important;
            color: var(--text-primary) !important;
        }

        /* Section Headers */
        .section-header h1 {
            color: var(--text-primary) !important;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Status Badges */
        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .status-active {
            background: var(--bg-success);
            color: var(--text-inverse);
        }

        .status-pending {
            background: var(--bg-warning);
            color: var(--text-inverse);
        }

        .status-inactive {
            background: var(--bg-danger);
            color: var(--text-inverse);
        }

        /* Override all inline styles for theme consistency */
        div[style*="background: white"],
        div[style*="background: #f9fafb"],
        div[style*="background: #f8fafc"] {
            background: var(--bg-secondary) !important;
            color: var(--text-primary) !important;
            border-color: var(--border-secondary) !important;
        }

        div[style*="color: #111827"],
        h1[style*="color: #111827"],
        h2[style*="color: #111827"],
        h3[style*="color: #111827"],
        p[style*="color: #6b7280"] {
            color: var(--text-primary) !important;
        }

        div[style*="border: 1px solid #e5e7eb"],
        div[style*="border-bottom: 1px solid #e5e7eb"],
        div[style*="border-top: 1px solid #e5e7eb"] {
            border-color: var(--border-secondary) !important;
        }

        input[style*="border: 1px solid #d1d5db"],
        select[style*="border: 1px solid #d1d5db"],
        textarea[style*="border: 1px solid #d1d5db"] {
            background: var(--bg-secondary) !important;
            color: var(--text-primary) !important;
            border: 2px solid var(--border-secondary) !important;
            border-radius: 0.75rem !important;
        }

        /* Enhanced Form Styling */
        input, select, textarea {
            background: var(--bg-secondary) !important;
            color: var(--text-primary) !important;
            border: 2px solid var(--border-secondary) !important;
            border-radius: 0.75rem !important;
            transition: all var(--transition-normal) !important;
            backdrop-filter: blur(10px) !important;
        }

        input:focus, select:focus, textarea:focus {
            border-color: var(--border-accent) !important;
            box-shadow: var(--shadow-lg) !important;
            transform: translateY(-2px) !important;
        }

        /* Chat specific styling */
        #chatMessages {
            background: var(--bg-primary) !important;
            color: var(--text-primary) !important;
        }

        #chatHeader {
            background: var(--bg-tertiary) !important;
            color: var(--text-primary) !important;
            border-bottom: 1px solid var(--border-secondary) !important;
        }

        #chatInput {
            background: var(--bg-secondary) !important;
            border-top: 1px solid var(--border-secondary) !important;
        }

        /* Message styling */
        .message-bubble {
            background: var(--glass-bg) !important;
            color: var(--text-primary) !important;
            border: 1px solid var(--border-secondary) !important;
            backdrop-filter: blur(10px) !important;
        }

        /* Icon styling */
        i {
            color: inherit !important;
        }

        /* Ensure all text is visible */
        * {
            color: var(--text-primary);
        }

        /* Override specific problematic elements */
        .admin-section {
            background: var(--bg-secondary) !important;
            color: var(--text-primary) !important;
        }

        .admin-container {
            display: flex;
            min-height: 100vh;
            background: var(--bg-primary);
            transition: all var(--transition-normal);
        }
        
        .mobile-menu-toggle {
            display: none;
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 1001;
            background: var(--bg-accent);
            border: 2px solid var(--glass-border);
            color: var(--text-inverse);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.75rem;
            border-radius: 0.75rem;
            box-shadow: var(--shadow-lg);
            transition: all var(--transition-normal);
            backdrop-filter: blur(10px);
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .mobile-menu-toggle:hover {
            transform: scale(1.05) translateY(-2px);
            box-shadow: var(--shadow-xl);
        }
        
        .admin-sidebar {
            width: 300px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            box-shadow: var(--glass-shadow);
            border-right: 1px solid var(--glass-border);
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
            transition: all var(--transition-normal);
        }
        
        .admin-main {
            flex: 1;
            margin-left: 300px;
            padding: 2rem;
            transition: all var(--transition-normal);
        }
        
        .sidebar-header {
            padding: 2rem 1.5rem;
            border-bottom: 1px solid var(--border-primary);
            text-align: center;
            position: relative;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
        }
        
        .sidebar-header h2 {
            color: var(--text-primary);
            font-weight: 700;
            font-size: 1.5rem;
            margin: 0;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .sidebar-close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--bg-danger);
            border: none;
            color: var(--text-inverse);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 0.5rem;
            transition: all var(--transition-normal);
            display: block;
            backdrop-filter: blur(10px);
            border: 2px solid var(--glass-border);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .sidebar-close-btn:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: var(--shadow-lg);
        }
        
        .sidebar-nav {
            padding: 1rem 0;
        }
        
        .nav-item {
            display: block;
            padding: 1.25rem 1.5rem;
            color: var(--text-primary) !important;
            text-decoration: none;
            transition: all var(--transition-normal);
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            margin: 0.25rem 0.75rem;
            border-radius: 0.75rem;
            position: relative;
            overflow: hidden;
        }
        
        .nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--bg-accent);
            transition: left var(--transition-normal);
            z-index: -1;
        }
        
        .nav-item:hover, .nav-item.active {
            background: var(--glass-bg);
            color: var(--text-primary);
            backdrop-filter: blur(15px);
            transform: translateX(8px) scale(1.02);
            box-shadow: var(--shadow-md);
            border: 1px solid var(--glass-border);
        }
        
        .nav-item:hover::before, .nav-item.active::before {
            left: 0;
        }
        
        .nav-item.active {
            background: var(--bg-accent);
            color: var(--text-inverse);
            font-weight: 600;
        }
        
        .nav-item i {
            margin-right: 0.75rem;
            width: 20px;
        }
        
        .admin-section {
            display: none;
        }
        
        .admin-section.active {
            display: block;
            position: relative;
            z-index: 1001;
            opacity: 1 !important;
            visibility: visible !important;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .data-table {
            background: var(--bg-primary);
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .table-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-secondary);
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            color: var(--text-primary);
        }
        
        .search-input {
            flex: 1;
            min-width: 250px;
            padding: 0.75rem;
            border: 2px solid var(--border-secondary);
            border-radius: 0.75rem;
            font-size: 0.875rem;
            background: var(--bg-secondary);
            color: var(--text-primary);
            transition: all var(--transition-normal);
            backdrop-filter: blur(10px);
        }

        .search-input:focus {
            border-color: var(--border-accent);
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }
        
        .filter-select {
            padding: 0.75rem;
            border: 2px solid var(--border-secondary);
            border-radius: 0.75rem;
            font-size: 0.875rem;
            min-width: 150px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            transition: all var(--transition-normal);
            backdrop-filter: blur(10px);
        }

        .filter-select:focus {
            border-color: var(--border-accent);
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }
        
        /* Fix dropdown option visibility - Enhanced for all browsers */
        .filter-select option {
            background: var(--bg-secondary) !important;
            background-color: var(--bg-secondary) !important;
            color: var(--text-primary) !important;
            padding: 0.5rem !important;
            font-size: 0.875rem !important;
            font-weight: 400 !important;
            line-height: 1.5 !important;
            border: none !important;
            outline: none !important;
        }
        
        /* Ensure select elements are properly styled */
        .filter-select {
            -webkit-appearance: none !important;
            -moz-appearance: none !important;
            appearance: none !important;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e") !important;
            background-position: right 0.5rem center !important;
            background-repeat: no-repeat !important;
            background-size: 1.5em 1.5em !important;
            padding-right: 2.5rem !important;
        }
        
        .search-input::placeholder {
            color: var(--text-tertiary) !important;
            opacity: 0.7;
        }
        
        /* Ensure content containers are visible */
        .admin-section {
            min-height: 200px;
            opacity: 1 !important;
            visibility: visible !important;
        }
        
        /* Fix table content visibility */
        .data-table table tbody tr {
            background: var(--bg-secondary) !important;
            color: var(--text-primary) !important;
        }
        
        .data-table table tbody td {
            color: var(--text-primary) !important;
            border-bottom: 1px solid var(--border-secondary) !important;
        }
        
        /* Ensure loading states are visible */
        .loading-overlay {
            background: rgba(255, 255, 255, 0.9) !important;
            color: var(--text-primary) !important;
        }
        
        /* Fix content loading issues */
        .admin-section * {
            opacity: 1 !important;
            visibility: visible !important;
        }
        
        /* Ensure all text is visible */
        .admin-section h1, .admin-section h2, .admin-section h3, 
        .admin-section p, .admin-section span, .admin-section div {
            color: var(--text-primary) !important;
        }
        
        /* Fix button visibility */
        .btn {
            opacity: 1 !important;
            visibility: visible !important;
            color: var(--text-inverse) !important;
        }
        
        /* Ensure table headers are visible */
        .data-table table thead th {
            background: var(--bg-tertiary) !important;
            color: var(--text-primary) !important;
            font-weight: 600 !important;
        }
        
        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            font-size: 1rem;
            min-height: 48px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 2px solid transparent;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left var(--transition-slow);
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn-primary {
            background: var(--bg-accent);
            color: var(--text-inverse);
            box-shadow: var(--shadow-lg);
            border-color: var(--border-accent);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-xl);
        }
        
        .btn-secondary {
            background: var(--bg-danger);
            color: var(--text-inverse);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-secondary:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-xl);
        }
        
        /* Content Editor Styling */
        .content-editor-container {
            position: relative;
            z-index: 1;
        }
        
        .content-navigation-header {
            position: relative;
            z-index: 10;
        }
        
        .page-actions-row {
            position: relative !important;
            z-index: 10 !important;
        }
        
        .content-editor-area {
            position: relative;
            z-index: 1;
            margin-top: 0 !important;
        }
        
        .page-content-editor {
            position: relative;
            z-index: 1;
            display: none;
            background: var(--bg-secondary);
            color: var(--text-primary);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            margin-top: 1rem;
        }
        
        .content-tab {
            padding: 1rem 1.5rem;
            background: var(--glass-bg);
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 0.5rem 0.5rem 0 0;
            margin-right: 0.25rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            backdrop-filter: blur(10px);
        }
        
        .content-tab:hover {
            background: var(--bg-secondary);
            color: var(--text-primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .content-tab.active {
            background: var(--bg-secondary);
            color: var(--text-primary);
            border-bottom: 2px solid var(--border-accent);
            box-shadow: var(--shadow-lg);
        }
        
        .page-content-editor h3 {
            color: var(--text-primary) !important;
            text-shadow: var(--text-shadow);
        }
        
        .btn-success {
            background: var(--bg-success);
            color: var(--text-inverse);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-success:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-xl);
        }
        
        .btn-danger {
            background: var(--bg-danger);
            color: var(--text-inverse);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-danger:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-xl);
        }
        
        .btn-warning {
            background: var(--bg-warning);
            color: var(--text-inverse);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-warning:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-xl);
        }
        
        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid var(--border-accent);
            backdrop-filter: blur(10px);
        }
        
        .btn-outline:hover {
            background: var(--bg-accent);
            color: var(--text-inverse);
            transform: translateY(-3px) scale(1.02);
            box-shadow: var(--shadow-xl);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--glass-bg);
            backdrop-filter: blur(8px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: modalFadeIn var(--transition-normal) ease;
        }
        
        .modal.show {
            display: flex;
        }
        
        .modal-content {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 1.5rem;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            margin: 2rem;
            width: 100%;
            box-shadow: var(--glass-shadow);
            animation: modalSlideIn var(--transition-normal) ease;
        }
        
        .modal-header {
            padding: 2rem;
            border-bottom: 1px solid var(--border-primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--glass-bg);
            border-radius: 1.5rem 1.5rem 0 0;
        }
        
        .modal-header h2, .modal-header h3 {
            color: var(--text-primary);
            margin: 0;
            font-weight: 700;
        }
        
        .modal-body {
            padding: 2rem;
        }
        
        .form-group {
            margin-bottom: 2rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.75rem;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 1rem;
        }
        
        .form-input, .form-control {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--border-secondary);
            border-radius: 0.75rem;
            font-size: 1rem;
            background: var(--bg-secondary);
            color: var(--text-primary);
            transition: all var(--transition-normal);
            backdrop-filter: blur(10px);
        }
        
        .form-input:focus, .form-control:focus {
            outline: none;
            border-color: var(--border-accent);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            transform: translateY(-2px);
        }
        
        .form-textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--border-secondary);
            border-radius: 0.75rem;
            font-size: 1rem;
            min-height: 120px;
            resize: vertical;
            background: var(--bg-secondary);
            color: var(--text-primary);
            transition: all var(--transition-normal);
            backdrop-filter: blur(10px);
        }
        
        .form-textarea:focus {
            outline: none;
            border-color: var(--border-accent);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            transform: translateY(-2px);
        }
        
        .file-upload {
            border: 2px dashed #d1d5db;
            border-radius: 0.5rem;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .file-upload:hover {
            border-color: var(--border-accent);
                background: var(--bg-secondary);
        }
        
        .file-upload.dragover {
            border-color: var(--border-accent);
                background: var(--bg-tertiary);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: var(--bg-primary);
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .stat-content h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0 0 0.25rem 0;
        }
        
        .stat-content p {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin: 0;
        }
        
        .action-buttons {
            display: flex;
            gap: 0.5rem;
        }
        
        .btn-sm {
            padding: 0.5rem 1rem;
            font-size: 0.75rem;
            min-width: 80px;
            height: 36px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Ensure all action buttons have consistent sizing */
        .action-buttons .btn {
            min-width: 80px;
            height: 36px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.5rem 1rem;
            font-size: 0.75rem;
        }
        
        .close {
            font-size: 1.5rem;
            cursor: pointer;
            color: #6b7280;
        }
        
        .close:hover {
            color: var(--text-primary);
        }
        
        /* Content Editor Styles - Enhanced with Theme Variables */
        .content-editor-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-secondary);
            margin-bottom: 1.5rem;
            gap: 0;
            background: var(--bg-secondary);
            border-radius: var(--radius-lg) var(--radius-lg) 0 0;
            padding: 0.5rem;
        }
        
        .tab-btn {
            padding: 0.75rem 1.5rem;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all var(--transition-normal);
            font-weight: 500;
            border-radius: var(--radius-md);
            position: relative;
            overflow: hidden;
        }
        
        .tab-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--glass-bg);
            opacity: 0;
            transition: opacity var(--transition-normal);
        }
        
        .tab-btn:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }
        
        .tab-btn:hover::before {
            opacity: 1;
        }
        
        .tab-btn.active {
            background: var(--bg-primary);
            color: var(--text-accent);
            border-bottom-color: var(--border-accent);
            box-shadow: var(--shadow-lg);
            font-weight: 600;
        }
        
        .content-tab {
            display: none;
            background: var(--bg-primary);
            border-radius: 0 0 var(--radius-lg) var(--radius-lg);
            padding: 2rem;
            border: 1px solid var(--border-secondary);
            border-top: none;
        }
        
        .content-tab.active {
            display: block;
        }
        
        .content-tab h3 {
            margin: 0 0 1.5rem 0;
            color: var(--text-primary);
            font-size: 1.25rem;
            font-weight: 600;
        }
        
        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
            padding: 1.5rem;
            border-top: 1px solid var(--border-secondary);
            background: var(--glass-bg);
            border-radius: 0 0 var(--radius-lg) var(--radius-lg);
            backdrop-filter: blur(10px);
        }
        
        /* Enhanced Modal Styles */
        .modal-content {
            background: var(--bg-primary);
            border-radius: 1rem;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            margin: 2rem;
            width: 100%;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .content-editor-tabs {
                flex-wrap: wrap;
            }
            
            .tab-btn {
                flex: 1;
                min-width: 120px;
            }
            
            .modal-content {
                margin: 1rem;
                max-width: calc(100% - 2rem);
            }
            
            .form-actions {
                flex-direction: column;
            }
            
            .btn {
                justify-content: center;
            }
        }
        
        .action-buttons {
            display: flex;
            gap: 0.5rem;
        }
        
        .action-btn {
            padding: 0.375rem 0.75rem;
            border: none;
            border-radius: 0.375rem;
            cursor: pointer;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
        }
        
        .status-active { background: var(--success-bg, rgba(16, 185, 129, 0.1)); color: var(--success-color, #059669); }
        .status-inactive { background: var(--error-bg, rgba(239, 68, 68, 0.1)); color: var(--error-color, #dc2626); }
        .status-pending { background: var(--warning-bg, rgba(245, 158, 11, 0.1)); color: var(--warning-color, #d97706); }
        .status-new { background: var(--info-bg, rgba(59, 130, 246, 0.1)); color: var(--info-color, #2563eb); }
        .status-read { background: var(--neutral-bg, rgba(107, 114, 128, 0.1)); color: var(--neutral-color, #4b5563); }
        .status-replied { background: var(--success-bg, rgba(16, 185, 129, 0.1)); color: var(--success-color, #059669); }
        .status-closed { background: var(--error-bg, rgba(239, 68, 68, 0.1)); color: var(--error-color, #dc2626); }
        
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--glass-bg);
            z-index: 3000;
            align-items: center;
            justify-content: center;
            pointer-events: none;
        }
        
        .loading.show {
            pointer-events: all;
        }
        
        .loading.show {
            display: flex;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid var(--border-secondary, #e5e7eb);
            border-top: 3px solid var(--primary-color, #3b82f6);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Content Editor Specific Styles */
        .content-editor-container {
            background: var(--bg-primary);
            border-radius: 1rem;
            box-shadow: var(--shadow-md);
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .content-navigation-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 2rem;
            border-bottom: 2px solid var(--border-secondary);
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
        }

        .page-selector-container {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .page-selector-container label {
            color: var(--text-inverse);
            font-weight: 600;
            font-size: 1.1rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        #pageSelector {
            padding: 0.75rem 1rem;
            background: var(--glass-bg);
            border: 2px solid var(--glass-border);
            border-radius: 0.5rem;
            color: var(--text-inverse);
            font-size: 1rem;
            font-weight: 600;
            min-width: 200px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #pageSelector:hover {
            background: var(--glass-bg);
            border-color: var(--border-accent);
        }

        #pageSelector:focus {
            outline: none;
            background: var(--glass-bg);
            border-color: var(--border-accent);
            box-shadow: var(--shadow-lg);
        }

        .page-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .page-actions .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .page-actions .btn-success {
            background: linear-gradient(135deg, #f97316, #ea580c);
            color: var(--text-inverse);
        }

        /* Website Content Management Section Styling */
        .content-editor-container {
            background: var(--website-content-bg) !important;
            border-radius: 1rem !important;
            box-shadow: var(--website-content-shadow) !important;
            margin-bottom: 2rem !important;
            position: relative !important;
            overflow: visible !important;
            border: 2px solid var(--website-content-border) !important;
        }

        .content-navigation-header {
            display: flex !important;
            flex-direction: column !important;
            gap: 1.5rem !important;
            padding: 1.5rem 2rem !important;
            border-bottom: 2px solid var(--website-content-border) !important;
            background: var(--website-content-header-bg) !important;
            backdrop-filter: blur(15px) !important;
        }

        .page-selector-row {
            display: flex !important;
            justify-content: space-between !important;
            align-items: center !important;
            width: 100% !important;
            padding: 1rem !important;
            background: var(--website-content-selector-bg) !important;
            border-radius: 0.75rem !important;
            border: 2px solid var(--website-content-border) !important;
        }

        .page-actions-row {
            position: relative !important;
            z-index: 10 !important;
            display: flex !important;
            justify-content: center !important;
            gap: 1.5rem !important;
            align-items: center !important;
            padding: 1.5rem !important;
            background: var(--website-content-actions-bg) !important;
            border-radius: 1rem !important;
            border: 2px solid var(--website-content-border) !important;
            box-shadow: var(--website-content-shadow) !important;
            margin-bottom: 1rem !important;
        }

        .content-editor-area {
            padding: 2rem !important;
            background: var(--website-content-editor-bg) !important;
            backdrop-filter: blur(15px) !important;
            border-radius: 1rem !important;
            margin: 1rem !important;
            box-shadow: var(--website-content-shadow) !important;
            max-height: none !important;
            overflow-y: visible !important;
            position: relative !important;
            z-index: 1 !important;
        }

        /* Website Content Management Text Styling */
        .content-editor-container h1,
        .content-editor-container h2,
        .content-editor-container h3,
        .content-editor-container label {
            color: var(--text-primary) !important;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
        }

        .content-editor-container select,
        .content-editor-container input {
            background: var(--bg-secondary) !important;
            color: var(--text-primary) !important;
            border: 2px solid var(--website-content-border) !important;
        }

        .content-editor-container .page-info {
            color: var(--text-primary) !important;
            background: var(--website-content-selector-bg) !important;
            border: 2px solid var(--website-content-border) !important;
        }
            box-shadow: 0 4px 15px rgba(249, 115, 22, 0.3);
        }

        .page-actions .btn-success:hover {
            background: linear-gradient(135deg, #ea580c, #dc2626);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(249, 115, 22, 0.4);
        }

        .page-actions .btn-info {
            background: var(--glass-bg);
            border: 2px solid var(--glass-border);
            color: var(--text-inverse);
        }

        .page-actions .btn-info:hover {
            background: var(--bg-secondary);
            border-color: var(--border-accent);
            transform: translateY(-2px);
        }

        .content-editor-area {
            padding: 2rem;
        }



        .page-content-editor.active {
            display: block;
        }

        .editor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .editor-actions {
            display: flex;
            gap: 0.75rem;
        }

        .sections-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            min-height: 100px;
            opacity: 1 !important;
            visibility: visible !important;
            background: var(--glass-bg) !important;
            border-radius: 1rem;
            padding: 1.5rem;
            border: 1px solid var(--glass-border);
        }

        /* Section editor styles moved to admin.css for proper theme handling */

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .section-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #111827;
            margin: 0;
        }

        .section-actions {
            display: flex;
            gap: 0.5rem;
        }

        .section-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }

        .content-field {
            display: flex;
            flex-direction: column;
        }

        .field-label {
            font-weight: 500;
            color: #374151;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .field-input {
            padding: 0.75rem;
            border: 2px solid var(--border-secondary);
            border-radius: 0.5rem;
            font-size: 0.875rem;
            transition: all 0.3s ease;
            background: var(--glass-bg);
            color: var(--text-primary);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            width: 100%;
            box-sizing: border-box;
            backdrop-filter: blur(10px);
        }

        .field-input:focus {
            outline: none;
            border-color: var(--border-accent);
            box-shadow: var(--shadow-lg);
            background: var(--bg-secondary);
            transform: translateY(-1px);
        }

        .field-input::placeholder {
            color: var(--text-secondary);
            opacity: 0.7;
        }

        .field-label {
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
        }

        .form-label {
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            display: block;
            font-size: 0.875rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .tamil-text {
            font-family: 'Noto Sans Tamil', 'Latha', 'Vijaya', sans-serif;
        }

        .field-textarea {
            min-height: 100px;
            resize: vertical;
            font-family: inherit;
        }

        .field-image {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .image-preview {
            width: 100%;
            max-width: 200px;
            height: 120px;
            border: 2px dashed #d1d5db;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9fafb;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .image-preview:hover {
            border-color: #3b82f6;
            background: #eff6ff;
        }

        .image-preview img {
            max-width: 100%;
            max-height: 100%;
            border-radius: 0.375rem;
        }

        .image-upload-text {
            color: #6b7280;
            font-size: 0.875rem;
            text-align: center;
        }

        .btn-info {
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            color: var(--text-inverse);
            box-shadow: 0 4px 12px rgba(6, 182, 212, 0.3);
        }

        .btn-info:hover {
            background: linear-gradient(135deg, #0891b2 0%, #0e7490 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(6, 182, 212, 0.4);
        }

        .section-creator-modal {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            border-radius: 2rem;
            padding: 2rem;
            max-width: 900px;
            width: 90vw;
            max-height: 90vh;
            margin: 2rem auto;
            box-shadow: 0 30px 60px rgba(15, 23, 42, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(59, 130, 246, 0.3);
            backdrop-filter: blur(20px);
            position: relative;
            overflow-y: auto;
            animation: modalSlideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
        }

        .section-creator-modal::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6, #06b6d4, #10b981);
            border-radius: 2rem 2rem 0 0;
        }

        .section-creator-modal .modal-close-btn {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: var(--bg-danger);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: var(--text-inverse);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            z-index: 100;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
        }

        .section-creator-modal .modal-close-btn:hover {
            background: var(--bg-danger);
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.6);
            border-color: var(--border-primary);
        }

        .section-creator-modal .modal-close-btn:active {
            transform: scale(0.95) rotate(90deg);
        }

        .section-creator-modal h3 {
            color: var(--text-inverse);
            font-size: 2.5rem;
            font-weight: 800;
            text-align: center;
            margin-bottom: 3rem;
            margin-top: 1rem;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
        }

        .section-creator-modal h3::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            border-radius: 2px;
        }

        .creator-form {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            flex: 1;
            min-height: 0;
        }

        .creator-form .form-group label {
            color: var(--text-inverse);
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: block;
            text-shadow: var(--text-shadow-md);
            letter-spacing: 0.5px;
            position: relative;
            padding-left: 1rem;
        }

        .creator-form .form-group label::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 20px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 2px;
        }

        .creator-form .form-control {
            background: var(--glass-bg);
            border: 2px solid rgba(59, 130, 246, 0.3);
            border-radius: 1rem;
            padding: 1.25rem 1.5rem;
            font-size: 1.1rem;
            color: var(--text-primary);
            font-weight: 600;
            box-shadow: 0 8px 16px rgba(15, 23, 42, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.8);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
        }

        .creator-form .form-control:focus {
            outline: none;
            border-color: var(--border-accent);
                background: var(--glass-bg);
                color: var(--text-primary);
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2), 0 12px 24px rgba(59, 130, 246, 0.15);
            transform: translateY(-2px) scale(1.01);
        }

        .creator-form .form-control::placeholder {
            color: var(--text-secondary);
            font-weight: 500;
            opacity: 0.8;
        }

        .creator-form .form-control:hover:not(:focus) {
            border-color: var(--border-accent);
                background: var(--glass-bg);
            transform: translateY(-1px);
        }

        .creator-form select.form-control {
            cursor: pointer;
        }

        .creator-form textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-group-full {
            grid-column: 1 / -1;
        }

        .form-actions {
            display: flex;
            gap: 2rem;
            justify-content: center;
            margin-top: 3rem;
            padding-top: 2.5rem;
            border-top: 1px solid var(--border-primary);
        }

        .form-actions .btn {
            padding: 1.5rem 3rem;
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 1rem;
            border: none;
            cursor: pointer;
            transition: all var(--transition-normal);
            text-transform: uppercase;
            letter-spacing: 1px;
            min-width: 180px;
            min-height: 60px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(15px);
        }

        .form-actions .btn-primary {
            background: var(--bg-accent);
            color: var(--text-inverse);
            box-shadow: var(--shadow-xl);
            border: 2px solid var(--border-accent);
        }

        .form-actions .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            transition: left var(--transition-slow);
        }

        .form-actions .btn-primary:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 20px 40px rgba(59, 130, 246, 0.4);
        }

        .form-actions .btn-primary:hover::before {
            left: 100%;
        }

        .form-actions .btn-secondary {
            background: var(--glass-bg);
            color: var(--text-primary);
            border: 2px solid var(--border-secondary);
            box-shadow: var(--shadow-lg);
        }

        .form-actions .btn-secondary:hover {
            background: var(--bg-danger);
            border-color: var(--bg-danger);
            color: var(--text-inverse);
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 20px 40px rgba(239, 68, 68, 0.4);
        }

        .section-type-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
            max-width: 100%;
        }

        .section-type-card {
            padding: 2rem;
            border: 2px solid rgba(59, 130, 246, 0.3);
            border-radius: 1.5rem;
            cursor: pointer;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            background: var(--glass-bg);
            min-height: 160px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            user-select: none;
            box-shadow: 0 8px 20px rgba(15, 23, 42, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(15px);
            overflow: hidden;
        }

        .section-type-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(139, 92, 246, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .section-type-card:hover {
            border-color: var(--border-accent);
                background: var(--glass-bg);
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 35px rgba(59, 130, 246, 0.2), 0 5px 15px rgba(15, 23, 42, 0.1);
        }

        .section-type-card:hover::before {
            opacity: 1;
        }

        .section-type-card.selected {
            border-color: #3b82f6;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(59, 130, 246, 0.1) 100%);
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 20px 40px rgba(59, 130, 246, 0.3), 0 8px 20px rgba(15, 23, 42, 0.1);
        }

        .section-type-card.selected::before {
            opacity: 1;
        }

        .section-type-card.selected::after {
            content: '';
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: var(--text-inverse);
            border-radius: 50%;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 900;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.5);
            z-index: 10;
            animation: checkmarkPop 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes checkmarkPop {
            0% { transform: scale(0) rotate(0deg); opacity: 0; }
            50% { transform: scale(1.2) rotate(180deg); opacity: 0.8; }
            100% { transform: scale(1) rotate(360deg); opacity: 1; }
        }

        @keyframes modalSlideIn {
            0% { 
                opacity: 0; 
                transform: translateY(-50px) scale(0.9); 
            }
            100% { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }
        
        @keyframes modalFadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
        
        /* Data Table Styling */
        .data-table {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 1.5rem;
            box-shadow: var(--glass-shadow);
            overflow: hidden;
            transition: all var(--transition-normal);
        }
        
        .data-table:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-xl);
        }
        
        .table-header {
            padding: 2rem;
            border-bottom: 1px solid var(--border-primary);
            display: flex;
            gap: 1.5rem;
            align-items: center;
            flex-wrap: wrap;
            background: var(--glass-bg);
        }
        
        .search-input, .filter-select {
            flex: 1;
            min-width: 250px;
            padding: 1rem;
            border: 2px solid var(--border-secondary);
            border-radius: 0.75rem;
            font-size: 1rem;
            background: var(--bg-secondary);
            color: var(--text-primary);
            transition: all var(--transition-normal);
        }
        
        .search-input:focus, .filter-select:focus {
            outline: none;
            border-color: var(--border-accent);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            transform: translateY(-2px);
        }
        
        /* Ensure all filter-select options are visible */
        .filter-select option {
            background: var(--bg-secondary) !important;
            color: var(--text-primary) !important;
            padding: 0.5rem !important;
            font-size: 1rem !important;
        }
        
        /* Section Header Styling */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 2rem;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 1.5rem;
            box-shadow: var(--glass-shadow);
        }
        
        .section-header h1 {
            margin: 0;
            color: var(--text-primary);
            font-weight: 700;
            font-size: 2rem;
        }
        
        /* Stats Grid Styling */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .stat-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 1.5rem;
            padding: 2rem;
            box-shadow: var(--glass-shadow);
            transition: all var(--transition-normal);
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }
        
        .stat-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--shadow-xl);
        }
        
        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
        }
        
        .stat-content h3 {
            margin: 0 0 0.5rem 0;
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
        }
        
        .stat-content p {
            margin: 0;
            color: var(--text-secondary);
            font-weight: 500;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 20px var(--border-primary); }
            50% { box-shadow: 0 0 30px var(--border-accent); }
        }

        .section-type-icon {
            font-size: 2.5rem;
            color: var(--text-accent);
            margin-bottom: 1rem;
            text-shadow: 0 2px 4px var(--border-primary);
            font-weight: 700;
            transition: all 0.3s ease;
            z-index: 5;
            position: relative;
        }

        .section-type-card:hover .section-type-icon {
            color: var(--border-accent);
            transform: scale(1.1);
        }

        .section-type-card.selected .section-type-icon {
            color: var(--border-accent);
            transform: scale(1.1);
        }

        .section-type-name {
            font-weight: 800;
            color: var(--text-primary);
            margin: 0;
            font-size: 1.1rem;
            text-shadow: 0 1px 2px var(--border-secondary);
            letter-spacing: 0.5px;
            z-index: 5;
            position: relative;
        }

        .section-type-card:hover .section-type-name {
            color: var(--text-accent);
        }

        .section-type-card.selected .section-type-name {
            color: var(--text-accent);
        }

        .section-type-card p {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin: 0;
            line-height: 1.4;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }

        .section-type-card:hover p {
            color: var(--text-primary);
        }

        .section-type-card.selected p {
            color: var(--text-inverse);
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 2px solid var(--border-secondary);
        }

        /* Tab Navigation Enhancements */
        .tab-navigation {
            background: var(--glass-bg);
            border-radius: 1.5rem;
            padding: 0.75rem;
            margin-bottom: 3rem;
            display: flex;
            gap: 0.5rem;
            border: 2px solid var(--border-secondary);
            backdrop-filter: blur(15px);
        }

        .tab-btn {
            flex: 1;
            padding: 1.25rem 1.5rem;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            border-radius: 1rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            font-size: 1.1rem;
            text-align: center;
            text-shadow: var(--text-shadow-md);
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }

        .tab-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--glass-bg);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .tab-btn:hover:not(.active) {
            background: var(--glass-bg);
            color: var(--text-primary);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .tab-btn:hover:not(.active)::before {
            opacity: 1;
        }

        .tab-btn.active {
            background: var(--bg-accent);
            color: var(--text-inverse);
            box-shadow: var(--shadow-lg);
            font-weight: 700;
            transform: translateY(-1px);
        }

        .tab-btn.active::before {
            opacity: 1;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Modal Content Enhancements */
        .section-creator-modal .modal-content {
            max-width: 900px !important;
            width: 90vw !important;
            max-height: 85vh !important;
            background: var(--bg-accent);
            border-radius: 1.5rem;
            border: 1px solid var(--border-secondary);
            backdrop-filter: blur(10px);
        }

        /* Form Actions Enhancement */
        .form-actions {
            background: var(--glass-bg);
            border-radius: 1rem;
            padding: 2rem !important;
            margin-top: 2rem;
            border-top: 1px solid var(--border-secondary);
        }
            font-size: 1.1rem;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        /* Tamil Text Support */
        .tamil-text {
            font-family: 'Noto Sans Tamil', sans-serif;
            direction: ltr;
        }

        .language-toggle {
            display: flex;
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
            padding: 0.25rem;
            margin-bottom: 0.75rem;
            border: 1px solid var(--border-secondary);
        }

        .language-btn {
            flex: 1;
            padding: 0.5rem 1rem;
            border: none;
            background: transparent;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-secondary);
            transition: all var(--transition-normal);
        }

        .language-btn.active {
            background: var(--bg-accent);
            color: var(--text-inverse);
            box-shadow: var(--shadow-md);
            font-weight: 600;
        }
        
        .language-btn:hover:not(.active) {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        /* Inline Section Editor Styles */
        .section-editor-form {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border: 2px solid #3b82f6;
            border-radius: 1rem;
            padding: 2rem;
            margin: 1rem 0;
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
        }
        
        .section-editor-form .editor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #e5e7eb;
        }
        
        .section-editor-form .editor-header h4 {
            margin: 0;
            color: #1f2937;
            font-weight: 600;
            font-size: 1.25rem;
        }
        
        .section-editor-form .editor-actions {
            display: flex;
            gap: 0.75rem;
        }
        
        .section-editor-form .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .section-editor-form .content-field {
            display: flex;
            flex-direction: column;
        }
        
        .section-editor-form .field-label {
            font-weight: 600;
            color: #374151;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }
        
        .section-editor-form .field-input {
            padding: 0.875rem 1rem;
            border: 2px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            transition: all 0.3s ease;
            background: white;
            color: #1f2937;
        }
        
        .section-editor-form .field-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .section-editor-form textarea.field-input {
            min-height: 120px;
            resize: vertical;
            font-family: inherit;
        }
        
        .editing {
            transform: scale(1.02);
            transition: transform 0.3s ease;
        }

        /* Responsive Design for Content Editor */
        @media (max-width: 768px) {
            .content-tabs {
                padding: 0 0.5rem;
            }

            .content-tab {
                padding: 0.75rem 1rem;
                font-size: 0.875rem;
            }

            .content-editor-area {
                padding: 1rem;
            }

            .section-content {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .section-type-selector {
                grid-template-columns: 1fr 1fr;
            }

            .editor-header {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .editor-actions {
                justify-content: center;
            }
            
            .section-editor-form .form-row {
                grid-template-columns: 1fr;
            }

            /* Modal responsive improvements */
            .section-creator-modal {
                width: 95vw;
                max-height: 95vh;
                padding: 1.5rem;
                margin: 1rem auto;
            }

            .section-creator-modal h3 {
                font-size: 2rem;
                margin-bottom: 2rem;
            }

            .section-creator-modal .modal-close-btn {
                top: 1rem;
                right: 1rem;
                width: 40px;
                height: 40px;
                font-size: 1.25rem;
            }

            .form-actions {
                flex-direction: column;
                gap: 1rem;
            }

            .form-actions .btn {
                width: 100%;
                min-width: auto;
            }
        }
        
        /* Sidebar overlay for mobile */
        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }
        
        .sidebar-overlay.active {
            display: block;
        }
        
        @media (max-width: 768px) {
            /* Fix container width and prevent horizontal overflow */
            .admin-container {
                width: 100vw !important;
                max-width: 100vw !important;
                overflow-x: hidden !important;
                margin: 0 !important;
                padding: 0 !important;
            }
            
            .admin-sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
                box-shadow: 4px 0 20px rgba(37, 99, 235, 0.3);
                width: 280px !important;
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                z-index: 1001 !important;
            }
            
            .admin-sidebar.open,
            .admin-sidebar.active {
                transform: translateX(0);
            }
            
            .admin-main {
                margin-left: 0 !important;
                padding: 1rem !important;
                padding-top: 4rem !important;
                width: 100% !important;
                max-width: 100vw !important;
                box-sizing: border-box !important;
                overflow-x: hidden !important;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .sidebar-close-btn {
                display: block;
            }
            
            .mobile-menu-toggle {
                display: flex !important;
                position: fixed !important;
                top: 1rem !important;
                left: 1rem !important;
                z-index: 1002 !important;
                background: var(--bg-accent) !important;
                color: var(--text-inverse) !important;
                border: 2px solid var(--glass-border) !important;
                width: 50px !important;
                height: 50px !important;
                border-radius: 0.75rem !important;
                box-shadow: var(--shadow-lg) !important;
                align-items: center !important;
                justify-content: center !important;
                cursor: pointer !important;
                transition: all 0.3s ease !important;
                backdrop-filter: blur(10px) !important;
            }
            
            .data-table {
                overflow-x: auto;
                width: 100% !important;
                max-width: calc(100vw - 2rem) !important;
            }
            
            .table-header {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .search-input, .filter-select {
                min-width: 100%;
            }
            
            .modal-content {
                margin: 0.5rem;
                max-width: calc(100% - 1rem);
                max-height: calc(100vh - 1rem);
            }
            
            .form-actions {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .btn {
                justify-content: center;
                width: 100%;
            }
        }

        /* Recent Activity Styling */
        #recentActivity .activity-item {
            background: var(--bg-secondary) !important;
            border: 1px solid var(--border-secondary) !important;
            border-radius: 0.5rem !important;
            padding: 1rem !important;
            margin-bottom: 0.75rem !important;
            transition: all var(--transition-normal) !important;
        }

        #recentActivity .activity-item:hover {
            background: var(--glass-bg) !important;
            transform: translateY(-2px) !important;
            box-shadow: var(--shadow-md) !important;
        }

        #recentActivity .activity-item * {
            color: var(--text-primary) !important;
        }

        #recentActivity .activity-time {
            color: var(--text-secondary) !important;
        }

        /* Modal Theme Support */
        .modal-overlay {
            background: rgba(0, 0, 0, 0.6) !important;
            backdrop-filter: blur(8px) !important;
        }

        .modal-content, .blue-gradient-form {
            background: var(--glass-bg) !important;
            backdrop-filter: blur(20px) !important;
            border: 1px solid var(--glass-border) !important;
            color: var(--text-primary) !important;
        }

        .modal-header {
            background: var(--bg-tertiary) !important;
            border-bottom: 1px solid var(--border-secondary) !important;
            color: var(--text-primary) !important;
        }

        .modal-header h2, .modal-header h3 {
            color: var(--text-primary) !important;
        }

        .modal-body {
            background: var(--bg-secondary) !important;
            color: var(--text-primary) !important;
        }

        /* Form Elements in Modals */
        .modal input, .modal textarea, .modal select {
            background: var(--bg-secondary) !important;
            border: 2px solid var(--border-secondary) !important;
            color: var(--text-primary) !important;
        }

        .modal input:focus, .modal textarea:focus, .modal select:focus {
            border-color: var(--border-accent) !important;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
        }

        .modal label {
            color: var(--text-primary) !important;
        }

        /* Fix for activity cards in admin.css */
        .activity-card {
            background: var(--bg-secondary) !important;
            color: var(--text-primary) !important;
        }

        .activity-card:hover {
            background: var(--glass-bg) !important;
            transform: translateY(-2px) !important;
        }

        /* Comprehensive Modal Styling with Gradient Themes */
        .modal, .modal-overlay {
            background: var(--overlay-dark) !important;
            backdrop-filter: blur(12px) !important;
            z-index: 9999 !important;
        }

        .modal-content {
            background: var(--glass-bg) !important;
            backdrop-filter: blur(25px) !important;
            border: 2px solid var(--glass-border) !important;
            border-radius: 1rem !important;
            box-shadow: var(--shadow-xl) !important;
            color: var(--text-primary) !important;
            max-width: 95vw !important;
            width: 1200px !important;
            max-height: 95vh !important;
            overflow-y: auto !important;
        }

        .modal-header {
            background: var(--bg-accent) !important;
            border-bottom: 2px solid var(--border-accent) !important;
            color: var(--text-primary) !important;
            padding: 1.5rem !important;
            border-radius: 1rem 1rem 0 0 !important;
        }

        .modal-header h1, .modal-header h2, .modal-header h3, .modal-header h4 {
            color: var(--text-primary) !important;
            margin: 0 !important;
            font-weight: 700 !important;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
        }

        .modal-body {
            background: var(--bg-secondary) !important;
            color: var(--text-primary) !important;
            padding: 2rem !important;
        }

        .modal-footer {
            background: var(--bg-tertiary) !important;
            border-top: 2px solid var(--border-secondary) !important;
            padding: 1.5rem !important;
            border-radius: 0 0 1rem 1rem !important;
        }

        /* Enhanced Form Elements in Modals */
        .modal input, .modal textarea, .modal select, 
        .blue-gradient-form input, .blue-gradient-form textarea, .blue-gradient-form select {
            background: var(--glass-bg) !important;
            border: 2px solid var(--border-secondary) !important;
            border-radius: 0.5rem !important;
            color: var(--text-primary) !important;
            padding: 0.75rem 1rem !important;
            font-size: 1rem !important;
            transition: all var(--transition-normal) !important;
            backdrop-filter: blur(10px) !important;
        }

        .modal input:focus, .modal textarea:focus, .modal select:focus,
        .blue-gradient-form input:focus, .blue-gradient-form textarea:focus, .blue-gradient-form select:focus {
            border-color: var(--border-accent) !important;
            box-shadow: 0 0 0 4px rgba(157, 78, 221, 0.2) !important;
            outline: none !important;
            transform: translateY(-1px) !important;
        }

        .modal input::placeholder, .modal textarea::placeholder,
        .blue-gradient-form input::placeholder, .blue-gradient-form textarea::placeholder {
            color: var(--text-secondary) !important;
            opacity: 0.7 !important;
        }

        .modal label, .blue-gradient-form label {
            color: var(--text-primary) !important;
            font-weight: 600 !important;
            margin-bottom: 0.5rem !important;
            display: block !important;
            font-size: 0.95rem !important;
        }

        /* Dropdown Menu Styling */
        .modal select, .blue-gradient-form select {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e") !important;
            background-position: right 0.5rem center !important;
            background-repeat: no-repeat !important;
            background-size: 1.5em 1.5em !important;
            padding-right: 2.5rem !important;
            appearance: none !important;
        }

        .modal select option, .blue-gradient-form select option {
            background: var(--bg-secondary) !important;
            color: var(--text-primary) !important;
            padding: 0.5rem !important;
        }

        /* Button Styling in Modals */
        .modal .btn, .modal button, .blue-gradient-form .btn, .blue-gradient-form button {
            background: var(--bg-accent) !important;
            border: 2px solid var(--border-accent) !important;
            color: var(--text-primary) !important;
            padding: 0.75rem 1.5rem !important;
            border-radius: 0.5rem !important;
            font-weight: 600 !important;
            cursor: pointer !important;
            transition: all var(--transition-normal) !important;
            backdrop-filter: blur(10px) !important;
        }

        .modal .btn:hover, .modal button:hover, 
        .blue-gradient-form .btn:hover, .blue-gradient-form button:hover {
            transform: translateY(-2px) !important;
            box-shadow: var(--shadow-lg) !important;
            filter: brightness(1.1) !important;
        }

        .modal .btn-secondary, .modal .btn-cancel {
            background: var(--bg-tertiary) !important;
            border-color: var(--border-secondary) !important;
        }

        .modal .btn-danger, .modal .btn-delete {
            background: var(--bg-danger) !important;
            border-color: #dc2626 !important;
        }

        /* Close Button Styling */
        .modal .close, .modal .modal-close {
            background: none !important;
            border: none !important;
            color: var(--text-primary) !important;
            font-size: 1.5rem !important;
            cursor: pointer !important;
            padding: 0.5rem !important;
            border-radius: 50% !important;
            transition: all var(--transition-normal) !important;
            width: 40px !important;
            height: 40px !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
        }

        .modal .close:hover, .modal .modal-close:hover {
            background: rgba(255, 255, 255, 0.1) !important;
            transform: scale(1.1) !important;
        }

        /* Sidebar Text Visibility Fix */
        .sidebar-nav .nav-item {
            color: var(--text-primary) !important;
            background: rgba(255, 255, 255, 0.1) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            margin-bottom: 0.5rem !important;
            border-radius: 0.5rem !important;
            transition: all var(--transition-normal) !important;
        }

        .sidebar-nav .nav-item:hover {
            background: rgba(255, 255, 255, 0.2) !important;
            transform: translateX(5px) !important;
            box-shadow: var(--shadow-md) !important;
        }

        .sidebar-nav .nav-item.active {
            background: var(--bg-accent) !important;
            color: var(--text-primary) !important;
            border-color: var(--border-accent) !important;
        }

        .sidebar-nav .nav-item i {
            color: var(--text-primary) !important;
        }

        /* Enhanced Glow Effects */
        .modal-content {
            animation: modalGlow 3s ease-in-out infinite alternate !important;
        }

        @keyframes modalGlow {
            0% {
                box-shadow: var(--shadow-xl), 0 0 30px rgba(157, 78, 221, 0.3) !important;
            }
            100% {
                box-shadow: var(--shadow-xl), 0 0 50px rgba(157, 78, 221, 0.5) !important;
            }
        }

        /* Form Group Styling */
        .modal .form-group, .blue-gradient-form .form-group {
            margin-bottom: 1.5rem !important;
        }

        .modal .form-row, .blue-gradient-form .form-row {
            display: flex !important;
            gap: 1rem !important;
            margin-bottom: 1.5rem !important;
        }

        .modal .form-row .form-group, .blue-gradient-form .form-row .form-group {
            flex: 1 !important;
            margin-bottom: 0 !important;
        }

        /* Checkbox and Radio Styling */
        .modal input[type="checkbox"], .modal input[type="radio"],
        .blue-gradient-form input[type="checkbox"], .blue-gradient-form input[type="radio"] {
            width: auto !important;
            margin-right: 0.5rem !important;
            accent-color: var(--border-accent) !important;
        }

        /* File Input Styling */
        .modal input[type="file"], .blue-gradient-form input[type="file"] {
            padding: 0.5rem !important;
            border: 2px dashed var(--border-secondary) !important;
            border-radius: 0.5rem !important;
            background: var(--glass-bg) !important;
        }

        .modal input[type="file"]:hover, .blue-gradient-form input[type="file"]:hover {
            border-color: var(--border-accent) !important;
            background: rgba(157, 78, 221, 0.1) !important;
        }
    </style>
</head>
<body>
    <!-- Navigation Elements for JavaScript Compatibility -->
    <nav class="navbar" id="navbar" style="display: none;"></nav>
    <div class="nav-menu" id="nav-menu" style="display: none;"></div>
    <div class="hamburger" id="hamburger" style="display: none;"></div>
    
    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()" style="position: fixed; top: 1rem; right: 1rem; z-index: 9999; background: var(--surface-color, #ffffff); border: 1px solid var(--border-primary, #e5e7eb); border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); backdrop-filter: blur(10px);">
        <i class="fas fa-moon" id="themeIcon" style="color: var(--text-primary, #374151); font-size: 1.2rem; transition: all 0.3s ease;"></i>
    </button>
    
    <!-- Loading Indicator -->
    <div id="loadingIndicator" class="loading">
        <div class="spinner"></div>
    </div>
    
    <div class="admin-container">
        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" id="mobileMenuToggle" onclick="toggleSidebar()">
            <i class="fas fa-bars"></i>
        </button>
        
        <!-- Sidebar Overlay for Mobile -->
        <div class="sidebar-overlay" onclick="toggleSidebar()"></div>
        
        <!-- Sidebar -->
        <div class="admin-sidebar" id="adminSidebar">
            <div class="sidebar-header">
                <button class="sidebar-close-btn" id="sidebarCloseBtn" onclick="toggleSidebar()">
                    <i class="fas fa-times"></i>
                </button>
                <img src="../public/assets/logo.png" alt="Tamil Language Society" style="width: 70px; height: 70px; border-radius: 50%; margin-bottom: 1rem; border: 3px solid rgba(255, 255, 255, 0.3);">
                <h3 style="margin: 0; color: var(--text-inverse); font-size: 1.5rem; font-weight: 700; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">Admin Panel</h3>
                <p style="margin: 0.5rem 0 0 0; color: var(--text-primary); font-size: 1.1rem; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: 600; text-shadow: 0 1px 2px rgba(0,0,0,0.3);">Content Management System</p>
                
                <!-- Admin User Info -->
                <div style="margin-top: 1.5rem; padding: 1.2rem; background: var(--glass-bg); border-radius: 0.75rem; border: 1px solid var(--glass-border); backdrop-filter: blur(10px);">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div id="adminAvatar" style="width: 45px; height: 45px; border-radius: 50%; background: var(--bg-warning); display: flex; align-items: center; justify-content: center; color: var(--text-inverse); font-weight: 700; font-size: 1.1rem; border: 2px solid var(--border-primary);">
                            A
                        </div>
                        <div style="flex: 1;">
                            <div id="adminName" style="font-weight: 600; color: var(--text-primary); font-size: 1rem; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">Admin User</div>
                            <div style="color: var(--text-secondary); font-size: 0.85rem; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">Administrator</div>
                        </div>
                        <!-- Notification Bell -->
                        <button onclick="if(window.notificationManager) window.notificationManager.openModal()" 
                                style="background: var(--glass-bg); border: 1px solid var(--border-secondary); color: var(--text-primary); font-size: 1.3rem; cursor: pointer; padding: 0.6rem; border-radius: 50%; transition: all 0.3s ease; position: relative; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(10px);">
                            <i class="fas fa-bell"></i>
                            <span class="notification-dot" id="notification-dot" style="position: absolute; top: 2px; right: 2px; background: var(--bg-danger); color: var(--text-inverse); border-radius: 50%; width: 16px; height: 16px; font-size: 0.625rem; display: none; align-items: center; justify-content: center;"></span>
                        </button>
                    </div>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <button class="nav-item active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </button>
                <button class="nav-item" data-section="website-content">
                    <i class="fas fa-globe"></i> Website Content
                </button>
                <button class="nav-item" data-section="books">
                    <i class="fas fa-book"></i> Books Management
                </button>
                <button class="nav-item" data-section="ebooks">
                    <i class="fas fa-tablet-alt"></i> E-books Management
                </button>
                <button class="nav-item" data-section="projects">
                    <i class="fas fa-project-diagram"></i> Projects
                </button>
                <button class="nav-item" data-section="activities">
                    <i class="fas fa-calendar-alt"></i> Activities
                </button>
                <button class="nav-item" data-section="initiatives">
                    <i class="fas fa-lightbulb"></i> Initiatives
                </button>
                <button class="nav-item" data-section="team">
                    <i class="fas fa-users"></i> Team Management
                </button>
                <button class="nav-item" data-section="recruitment">
                    <i class="fas fa-user-plus"></i> Recruitment Management
                </button>

                <button class="nav-item" data-section="chats">
                    <i class="fas fa-comments"></i> Chats
                </button>
                <button class="nav-item" data-section="users">
                    <i class="fas fa-users"></i> Users
                </button>
                <button class="nav-item" data-section="announcements">
                    <i class="fas fa-bullhorn"></i> Announcements
                </button>
                <button class="nav-item" data-section="purchased-books">
                    <i class="fas fa-shopping-cart"></i> Purchased Books
                </button>
                <button class="nav-item" data-section="payment-settings">
                    <i class="fas fa-credit-card"></i> Payment Settings
                </button>
                <button class="nav-item" data-section="posters">
                    <i class="fas fa-image"></i> Posters
                </button>
                <button class="nav-item" data-section="slideshow">
                    <i class="fas fa-play-circle"></i> Slideshow
                </button>

                <button class="nav-item" data-section="file-storage">
                    <i class="fas fa-hdd"></i> File Storage
                </button>


                <button class="nav-item" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="admin-main">
            <!-- Dashboard Section - Updated with responsive design and real data integration -->
<div class="admin-section" id="dashboard">
    <div class="section-header">
        <h1 style="margin: 0; color: var(--text-primary);">Dashboard</h1>
        <!-- Mobile hamburger menu -->
        <button class="hamburger-menu" style="display: none; background: none; border: none; color: var(--text-primary); font-size: 1.5rem; cursor: pointer;">
            <i class="fas fa-bars"></i>
        </button>
    </div>
    
    <!-- Dashboard Overview - Responsive Grid -->
    <div class="dashboard-overview" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
        <!-- Pie Chart Section - Real Data Integration -->
        <div class="dashboard-card" style="background: var(--bg-primary); border-radius: 1rem; padding: 2rem; border: 1px solid var(--border-primary); box-shadow: var(--shadow-sm);">
            <h3 style="margin: 0 0 1.5rem 0; color: var(--text-primary); font-size: 1.25rem; font-weight: 600;">Content Overview</h3>
            <div style="position: relative; height: 300px; display: flex; align-items: center; justify-content: center;">
                <canvas id="overviewPieChart" style="max-width: 100%; max-height: 100%; width: 300px; height: 300px;"></canvas>
                <div id="chartLoading" class="loading-spinner" style="position: absolute; display: none;">
                    <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: var(--primary-color);"></i>
                </div>
            </div>
            <div id="chartLegend" style="margin-top: 1rem; display: flex; flex-wrap: wrap; gap: 0.75rem; justify-content: center;">
                <!-- Legend populated by JavaScript with real data -->
            </div>
        </div>

        <!-- Quick Actions - Fixed Layout Spacing -->
        <div class="quick-actions-container" style="background: var(--bg-primary); border-radius: 1rem; padding: 2rem; border: 1px solid var(--border-primary); box-shadow: var(--shadow-sm);">
            <h3 style="margin: 0 0 1.5rem 0; color: var(--text-primary); font-size: 1.25rem; font-weight: 600;">Quick Actions</h3>
            <div class="quick-actions-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 1rem;">
                <button class="btn btn-primary quick-action-btn" onclick="openModal('book')" style="padding: 1rem; border-radius: 0.75rem; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; min-height: 80px; transition: all 0.3s ease;">
                    <i class="fas fa-plus" style="font-size: 1.2rem;"></i>
                    <span style="font-size: 0.9rem; font-weight: 600;">Add Book</span>
                </button>
                <button class="btn btn-success quick-action-btn" onclick="openModal('ebook')" style="padding: 1rem; border-radius: 0.75rem; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; min-height: 80px; transition: all 0.3s ease;">
                    <i class="fas fa-plus" style="font-size: 1.2rem;"></i>
                    <span style="font-size: 0.9rem; font-weight: 600;">Add E-book</span>
                </button>
                <button class="btn btn-info quick-action-btn" onclick="openModal('project')" style="padding: 1rem; border-radius: 0.75rem; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; min-height: 80px; transition: all 0.3s ease;">
                    <i class="fas fa-plus" style="font-size: 1.2rem;"></i>
                    <span style="font-size: 0.9rem; font-weight: 600;">Add Project</span>
                </button>
                <button class="btn btn-purple quick-action-btn" onclick="openModal('activity')" style="padding: 1rem; border-radius: 0.75rem; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; min-height: 80px; background: #8b5cf6; border-color: #8b5cf6; transition: all 0.3s ease;">
                    <i class="fas fa-plus" style="font-size: 1.2rem;"></i>
                    <span style="font-size: 0.9rem; font-weight: 600;">Add Activity</span>
                </button>
                <button class="btn btn-indigo quick-action-btn" onclick="openModal('initiative')" style="padding: 1rem; border-radius: 0.75rem; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; min-height: 80px; background: #6366f1; border-color: #6366f1; transition: all 0.3s ease;">
                    <i class="fas fa-plus" style="font-size: 1.2rem;"></i>
                    <span style="font-size: 0.9rem; font-weight: 600;">Add Initiative</span>
                </button>
                <button class="btn btn-warning quick-action-btn" onclick="showSection('website-content')" style="padding: 1rem; border-radius: 0.75rem; display: flex; flex-direction: column; align-items: center; gap: 0.5rem; min-height: 80px; transition: all 0.3s ease;">
                    <i class="fas fa-edit" style="font-size: 1.2rem;"></i>
                    <span style="font-size: 0.9rem; font-weight: 600;">Edit Content</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Recent Activity Section -->
    <div class="recent-activity-section" style="background: var(--bg-primary); border-radius: 1rem; padding: 2rem; border: 1px solid var(--border-primary); box-shadow: var(--shadow-sm); margin-bottom: 2rem;">
        <h3 style="margin: 0 0 1.5rem 0; color: var(--text-primary); font-size: 1.25rem; font-weight: 600;">Recent Activity</h3>
        <div id="recentActivity" style="max-height: 400px; overflow-y: auto;">
            <div class="loading-placeholder" style="text-align: center; color: var(--text-secondary); padding: 2rem;">
                <i class="fas fa-clock" style="font-size: 2rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                <p>Loading recent activity...</p>
            </div>
        </div>
    </div>
</div>



            <!-- Website Content Section -->
            <div class="admin-section" id="website-content">
                <div class="section-header">
                    <h1 style="margin: 0; color: var(--text-primary);">Website Content Management</h1>
                </div>

                <!-- Content Editor with Dropdown Navigation -->
                <div class="content-editor-container" style="background: var(--website-content-editor-bg); border-radius: 1rem; box-shadow: var(--shadow-xl); margin-bottom: 2rem; position: relative; overflow: visible;">
                    <div class="content-navigation-header" style="display: flex; flex-direction: column; gap: 1.5rem; padding: 1.5rem 2rem; border-bottom: 2px solid var(--border-secondary); background: var(--glass-bg); backdrop-filter: blur(10px);">
                        <div class="page-selector-row" style="display: flex; justify-content: space-between; align-items: center; width: 100%; padding: 1rem; background: var(--glass-bg); border-radius: 0.75rem; border: 2px solid var(--border-secondary);">
                            <div class="page-selector-container" style="display: flex; align-items: center; gap: 1.5rem;">
                                <label style="color: var(--text-primary); font-weight: 600; font-size: 1.2rem; text-shadow: var(--text-shadow);">
                                    <i class="fas fa-file-alt"></i> Select Page:
                                </label>
                                <select id="pageSelector" onchange="switchContentPage(this.value)" style="padding: 1rem 1.25rem; background: var(--bg-secondary); border: 2px solid var(--border-secondary); border-radius: 0.75rem; color: var(--text-primary); font-size: 1.1rem; font-weight: 600; min-width: 250px; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-lg);">
                                    <option value="global" selected style="color: var(--text-primary); background: var(--bg-primary);"> Global Elements</option>
                            <option value="home" style="color: var(--text-primary); background: var(--bg-primary);"> Home Page</option>
                                    <option value="about" style="color: var(--text-primary); background: var(--bg-primary);"> About Page</option>
                                    <option value="books" style="color: var(--text-primary); background: var(--bg-primary);"> Books Page</option>
                                    <option value="projects" style="color: var(--text-primary); background: var(--bg-primary);"> Projects Page</option>
                                    <option value="ebooks" style="color: var(--text-primary); background: var(--bg-primary);"> E-books Page</option>
                                    <option value="contact" style="color: var(--text-primary); background: var(--bg-primary);"> Contact Page</option>
                                    
                                    <option value="signup" style="color: var(--text-primary); background: var(--bg-primary);"> Sign Up Page</option>
                                    <option value="login" style="color: var(--text-primary); background: var(--bg-primary);"> Login Page</option>
                                </select>
                            </div>
                            <div class="page-info" style="color: var(--text-primary); font-weight: 600; text-shadow: var(--text-shadow); font-size: 1.1rem; padding: 0.75rem 1.5rem; background: var(--glass-bg); border-radius: 0.5rem; border: 2px solid var(--border-secondary);">
                                <i class="fas fa-check-circle" style="color: var(--success-color); margin-right: 0.5rem;"></i>
                                <span id="selectedPageInfo">Global Elements Selected</span>
                            </div>
                            
                            <!-- Language Toggle for Content Editing -->
                            <div class="admin-language-toggle">
                                <label>
                                    <i class="fas fa-language"></i> Edit Language:
                                </label>
                                <button class="lang-btn active" data-lang="en" title="Edit English Content">
                                    <i class="fas fa-flag-usa"></i> EN
                                </button>
                                <button class="lang-btn" data-lang="ta" title="Edit Tamil Content">
                                    <i class="fas fa-flag"></i> 
                                </button>
                            </div>
                        </div>
                        
                        <div class="page-actions-row" style="position: relative; z-index: 10; display: flex; justify-content: center; gap: 1.5rem; align-items: center; padding: 1.5rem; background: var(--glass-bg); border-radius: 1rem; border: 2px solid var(--glass-border); box-shadow: var(--glass-shadow); margin-bottom: 1rem;">
                            <button id="contentEditorBtn" class="btn" onclick="showContentEditorForSelectedPage()" style="padding: 1rem 2rem; background: var(--bg-warning); border: none; color: var(--text-inverse); border-radius: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-lg); min-width: 180px; font-size: 1.05rem;">
                                <i class="fas fa-edit"></i> Content Editor
                            </button>
                            <button id="createSectionBtn" class="btn" onclick="showSectionCreatorForSelectedPage()" style="padding: 1rem 2rem; background: var(--bg-warning); border: none; color: var(--text-inverse); border-radius: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-lg); min-width: 180px; font-size: 1.05rem;">
                                <i class="fas fa-plus-circle"></i> Create Section
                            </button>
                            <button id="refreshContentBtn" class="btn" onclick="refreshPageContent()" style="padding: 1rem 2rem; background: var(--bg-success); border: none; color: var(--text-inverse); border-radius: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-lg); min-width: 180px; font-size: 1.05rem;">
                                <i class="fas fa-sync-alt"></i> Refresh Content
                            </button>
                            <button class="btn" onclick="previewWebsite()" style="padding: 1rem 2rem; background: var(--bg-warning); border: none; color: var(--text-inverse); border-radius: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-lg); min-width: 180px; font-size: 1.05rem;">
                                <i class="fas fa-eye"></i> Preview Website
                            </button>
                            <button class="btn" onclick="toggleLivePreview()" style="padding: 1rem 2rem; background: var(--bg-accent); border: none; color: var(--text-inverse); border-radius: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-lg); min-width: 180px; font-size: 1.05rem;" title="Toggle live preview mode">
                                <i class="fas fa-broadcast-tower"></i> Live Preview
                            </button>
                        </div>
                    </div>

                    <!-- Content Editor Area -->
                    <div class="content-editor-area" data-theme-target="true" style="display: none; padding: 2rem; background: var(--glass-bg); backdrop-filter: blur(10px); border-radius: 1rem; margin: 1rem; box-shadow: var(--shadow-xl); max-height: none; overflow-y: visible; position: relative; z-index: 1;">
                        <div class="page-content-editor" id="content-editor-global" style="display: none;">
                            <div class="editor-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;">
                                <h3 style="margin: 0; color: var(--text-inverse); text-shadow: 0 2px 4px rgba(0,0,0,0.3); font-size: 1.5rem;">Global Elements (Navbar, Footer, Logo, Meta Tags)</h3>
                                <div class="editor-actions" style="display: flex; gap: 0.75rem; flex-wrap: wrap;">
                                    <button class="btn btn-sm" onclick="uploadGlobalLogo()" style="background: var(--bg-success); color: var(--text-inverse); border: none; padding: 0.75rem 1.25rem; border-radius: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-md); font-size: 0.9rem;">
                                        <i class="fas fa-upload"></i> Upload Logo
                                    </button>
                                    <button class="btn btn-sm" onclick="savePageContent('global')" style="background: var(--bg-accent); color: var(--text-inverse); border: none; padding: 0.75rem 1.25rem; border-radius: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-md); font-size: 0.9rem;">
                                        <i class="fas fa-save"></i> Save Changes
                                    </button>
                                    <button class="btn btn-sm" onclick="resetPageContent('global')" style="background: var(--bg-danger); color: var(--text-inverse); border: none; padding: 0.75rem 1.25rem; border-radius: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-md); font-size: 0.9rem;">
                                        <i class="fas fa-undo"></i> Reset
                                    </button>
                                    <button class="btn btn-sm" onclick="previewChanges('global')" style="background: var(--bg-accent); color: var(--text-inverse); border: none; padding: 0.75rem 1.25rem; border-radius: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-md); font-size: 0.9rem;">
                                        <i class="fas fa-eye"></i> Preview
                                    </button>
                                </div>
                            </div>
                            <div id="global-sections-container" class="sections-container" style="background: var(--bg-overlay-light); border-radius: 1rem; padding: 1.5rem; border: 1px solid var(--border-light);">
                                <!-- Dynamic sections will be loaded here -->
                                <div class="loading-placeholder" style="text-align: center; padding: 3rem; color: var(--text-secondary);">
                                    <i class="fas fa-spinner fa-spin" style="font-size: 2rem; margin-bottom: 1rem; color: var(--primary-blue);"></i>
                                    <p>Loading content sections...</p>
                                </div>
                            </div>
                        </div>

                        <div class="page-content-editor" id="content-editor-home" style="display: none;">
                            <div class="editor-header" style="display: flex; justify-content: between; align-items: center; margin-bottom: 2rem;">
                                <h3 style="margin: 0; color: white; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">Homepage Content</h3>
                                <div class="editor-actions">
                                    <button class="btn btn-sm" onclick="savePageContent('home')" style="background: linear-gradient(135deg, #f59e0b, #f97316); color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);">
                                        <i class="fas fa-save"></i> Save Changes
                                    </button>
                                    <button class="btn btn-sm" onclick="resetPageContent('home')" style="background: linear-gradient(135deg, #f59e0b, #f97316); color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);">
                                        <i class="fas fa-undo"></i> Reset
                                    </button>
                                </div>
                            </div>
                            <div id="home-sections-container" class="sections-container">
                                <!-- Dynamic sections will be loaded here -->
                            </div>
                        </div>

                        <div class="page-content-editor" id="content-editor-about" style="display: none;">
                            <div class="editor-header" style="display: flex; justify-content: between; align-items: center; margin-bottom: 2rem;">
                                <h3 style="margin: 0; color: white; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">About Page Content</h3>
                                <div class="editor-actions">
                                    <button class="btn btn-sm" onclick="savePageContent('about')" style="background: linear-gradient(135deg, #f59e0b, #f97316); color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);">
                                        <i class="fas fa-save"></i> Save Changes
                                    </button>
                                    <button class="btn btn-sm" onclick="resetPageContent('about')" style="background: linear-gradient(135deg, #f59e0b, #f97316); color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);">
                                        <i class="fas fa-undo"></i> Reset
                                    </button>
                                </div>
                            </div>
                            <div id="about-sections-container" class="sections-container">
                                <!-- Dynamic sections will be loaded here -->
                            </div>
                        </div>

                        <div class="page-content-editor" id="content-editor-contact" style="display: none;">
                            <div class="editor-header" style="display: flex; justify-content: between; align-items: center; margin-bottom: 2rem;">
                                <h3 style="margin: 0; color: white; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">Contact Page Content</h3>
                                <div class="editor-actions">
                                    <button class="btn btn-sm" onclick="savePageContent('contact')" style="background: linear-gradient(135deg, #f59e0b, #f97316); color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);">
                                        <i class="fas fa-save"></i> Save Changes
                                    </button>
                                    <button class="btn btn-sm" onclick="resetPageContent('contact')" style="background: linear-gradient(135deg, #f59e0b, #f97316); color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);">
                                        <i class="fas fa-undo"></i> Reset
                                    </button>
                                </div>
                            </div>
                            <div id="contact-sections-container" class="sections-container">
                                <!-- Dynamic sections will be loaded here -->
                            </div>
                        </div>

                        <div class="page-content-editor" id="content-editor-projects" style="display: none;">
                            <div class="editor-header" style="display: flex; justify-content: between; align-items: center; margin-bottom: 2rem;">
                                <h3 style="margin: 0; color: white; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">Projects Page Content</h3>
                                <div class="editor-actions">
                                    <button class="btn btn-sm" onclick="savePageContent('projects')" style="background: linear-gradient(135deg, #f59e0b, #f97316); color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);">
                                        <i class="fas fa-save"></i> Save Changes
                                    </button>
                                    <button class="btn btn-sm" onclick="resetPageContent('projects')" style="background: linear-gradient(135deg, #f59e0b, #f97316); color: white; border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);">
                                        <i class="fas fa-undo"></i> Reset
                                    </button>
                                </div>
                            </div>
                            <div id="projects-sections-container" class="sections-container">
                                <!-- Dynamic sections will be loaded here -->
                            </div>
                        </div>

                        <div class="page-content-editor" id="content-editor-books" style="display: none;">
                            <div class="editor-header" style="display: flex; justify-content: between; align-items: center; margin-bottom: 2rem;">
                                <h3 style="margin: 0; color: var(--text-inverse); text-shadow: 0 2px 4px rgba(0,0,0,0.3);">Books Page Content</h3>
                                <div class="editor-actions">
                                    <button class="btn btn-sm" onclick="savePageContent('books')" style="background: var(--bg-warning); color: var(--text-inverse); border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-md);">
                                        <i class="fas fa-save"></i> Save Changes
                                    </button>
                                    <button class="btn btn-sm" onclick="resetPageContent('books')" style="background: var(--bg-warning); color: var(--text-inverse); border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-md);">
                                        <i class="fas fa-undo"></i> Reset
                                    </button>
                                </div>
                            </div>
                            <div id="books-sections-container" class="sections-container">
                                <!-- Dynamic sections will be loaded here -->
                            </div>
                        </div>

                        <div class="page-content-editor" id="content-editor-ebooks" style="display: none;">
                            <div class="editor-header" style="display: flex; justify-content: between; align-items: center; margin-bottom: 2rem;">
                                <h3 style="margin: 0; color: var(--text-inverse); text-shadow: 0 2px 4px rgba(0,0,0,0.3);">E-books Page Content</h3>
                                <div class="editor-actions">
                                    <button class="btn btn-sm" onclick="savePageContent('ebooks')" style="background: var(--bg-warning); color: var(--text-inverse); border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-md);">
                                        <i class="fas fa-save"></i> Save Changes
                                    </button>
                                    <button class="btn btn-sm" onclick="resetPageContent('ebooks')" style="background: var(--bg-warning); color: var(--text-inverse); border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-md);">
                                        <i class="fas fa-undo"></i> Reset
                                    </button>
                                </div>
                            </div>
                            <div id="ebooks-sections-container" class="sections-container">
                                <!-- Dynamic sections will be loaded here -->
                            </div>
                        </div>



                        <div class="page-content-editor" id="content-editor-signup" style="display: none;">
                            <div class="editor-header" style="display: flex; justify-content: between; align-items: center; margin-bottom: 2rem;">
                                <h3 style="margin: 0; color: var(--text-inverse); text-shadow: 0 2px 4px rgba(0,0,0,0.3);">Sign Up Page Content</h3>
                                <div class="editor-actions">
                                    <button class="btn btn-sm" onclick="savePageContent('signup')" style="background: var(--bg-warning); color: var(--text-inverse); border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-md);">
                                        <i class="fas fa-save"></i> Save Changes
                                    </button>
                                    <button class="btn btn-sm" onclick="resetPageContent('signup')" style="background: var(--bg-warning); color: var(--text-inverse); border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-md);">
                                        <i class="fas fa-undo"></i> Reset
                                    </button>
                                </div>
                            </div>
                            <div id="signup-sections-container" class="sections-container">
                                <!-- Dynamic sections will be loaded here -->
                            </div>
                        </div>

                        <div class="page-content-editor" id="content-editor-login" style="display: none;">
                            <div class="editor-header" style="display: flex; justify-content: between; align-items: center; margin-bottom: 2rem;">
                                <h3 style="margin: 0; color: var(--text-inverse); text-shadow: 0 2px 4px rgba(0,0,0,0.3);">Login Page Content</h3>
                                <div class="editor-actions">
                                    <button class="btn btn-sm" onclick="savePageContent('login')" style="background: var(--bg-warning); color: var(--text-inverse); border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-md);">
                                        <i class="fas fa-save"></i> Save Changes
                                    </button>
                                    <button class="btn btn-sm" onclick="resetPageContent('login')" style="background: var(--bg-warning); color: var(--text-inverse); border: none; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-md);">
                                        <i class="fas fa-undo"></i> Reset
                                    </button>
                                </div>
                            </div>
                            <div id="login-sections-container" class="sections-container">
                                <!-- Dynamic sections will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Content Overview Table -->
                <div class="data-table">
                    <div class="table-header">
                        <input type="text" class="search-input" id="contentSearch" placeholder="Search content...">
                        <select class="filter-select" id="contentPageFilter">
                            <option value="">All Pages</option>
                            <option value="global">Global Elements</option>
                            <option value="home">Home</option>
                            <option value="about">About</option>
                            <option value="books">Books</option>
                            <option value="projects">Projects</option>
                            <option value="ebooks">E-books</option>
                            <option value="contact">Contact Us</option>

                            <option value="signup">Sign Up</option>
                            <option value="login">Login</option>
                        </select>
                        <select class="filter-select" id="contentStatusFilter">
                            <option value="">All Status</option>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead style="background: var(--bg-tertiary);">
                                <tr>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: var(--text-primary);">Page</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: var(--text-primary);">Section</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: var(--text-primary);">Title</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: var(--text-primary);">Tamil Title</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: var(--text-primary);">Status</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: var(--text-primary);">Last Updated</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: var(--text-primary);">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="contentTableBody">
                                <!-- Content will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Recent Activity Table -->
                <div class="data-table" style="margin-top: 2rem;">
                    <div style="padding: 1.5rem; border-bottom: 1px solid var(--border-secondary); display: flex; justify-content: space-between; align-items: center;">
                        <h3 style="margin: 0; color: var(--text-primary);">Recent Content Changes</h3>
                        <button class="btn btn-sm btn-secondary" id="refreshActivityBtn" onclick="contentEditor.loadActivityTable()" style="padding: 0.5rem 1rem;">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                    <div class="table-header">
                        <input type="text" class="search-input" id="activitySearch" placeholder="Search activities...">
                        <select class="filter-select" id="activityTypeFilter">
                            <option value="">All Actions</option>
                            <option value="create_section">Create Section</option>
                            <option value="update_section">Update Section</option>
                            <option value="delete_section">Delete Section</option>
                            <option value="duplicate_section">Duplicate Section</option>
                            <option value="save_section">Save Section</option>
                            <option value="update_section_property">Update Property</option>
                        </select>
                        <select class="filter-select" id="activityPageFilter">
                            <option value="">All Pages</option>
                            <option value="global">Global Elements</option>
                            <option value="home">Home</option>
                            <option value="about">About</option>
                            <option value="books">Books</option>
                            <option value="projects">Projects</option>
                            <option value="ebooks">E-books</option>
                            <option value="contact">Contact Us</option>
                            <option value="donate">Donate Now</option>
                            <option value="signup">Sign Up</option>
                            <option value="login">Login</option>
                        </select>
                    </div>
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr>
                                    <th onclick="sortActivityTable(0)" style="padding: 1rem; text-align: left; font-weight: 600; color: var(--text-primary); background: var(--bg-tertiary); cursor: pointer; user-select: none;">Action <i class="fas fa-sort" style="margin-left: 5px; opacity: 0.5;"></i></th>
                                    <th onclick="sortActivityTable(1)" style="padding: 1rem; text-align: left; font-weight: 600; color: var(--text-primary); background: var(--bg-tertiary); cursor: pointer; user-select: none;">Page <i class="fas fa-sort" style="margin-left: 5px; opacity: 0.5;"></i></th>
                                    <th onclick="sortActivityTable(2)" style="padding: 1rem; text-align: left; font-weight: 600; color: var(--text-primary); background: var(--bg-tertiary); cursor: pointer; user-select: none;">Section <i class="fas fa-sort" style="margin-left: 5px; opacity: 0.5;"></i></th>
                                    <th onclick="sortActivityTable(3)" style="padding: 1rem; text-align: left; font-weight: 600; color: var(--text-primary); background: var(--bg-tertiary); cursor: pointer; user-select: none;">Description <i class="fas fa-sort" style="margin-left: 5px; opacity: 0.5;"></i></th>
                                    <th onclick="sortActivityTable(4)" style="padding: 1rem; text-align: left; font-weight: 600; color: var(--text-primary); background: var(--bg-tertiary); cursor: pointer; user-select: none;">User <i class="fas fa-sort" style="margin-left: 5px; opacity: 0.5;"></i></th>
                                    <th onclick="sortActivityTable(5)" style="padding: 1rem; text-align: left; font-weight: 600; color: var(--text-primary); background: var(--bg-tertiary); cursor: pointer; user-select: none;">Date <i class="fas fa-sort" style="margin-left: 5px; opacity: 0.5;"></i></th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: var(--text-primary); background: var(--bg-tertiary);">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="activityTableBody">
                                <!-- Activity data will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Books Management Section -->
            <div class="admin-section" id="books">
                <div class="section-header">
                    <h1 style="margin: 0; color: var(--text-primary);">Books Management</h1>
                </div>
                <div class="section-actions">
                    <button id="add-book-btn" class="btn btn-primary" onclick="openModal('book')">
                        <i class="fas fa-plus"></i> Add New Book
                    </button>
                    <button class="btn btn-secondary" onclick="exportToCSV('books')">
                        <i class="fas fa-download"></i> Export CSV
                    </button>
                    <button class="btn btn-info" onclick="refreshBooks()">
                        <i class="fas fa-sync-alt"></i> Refresh Books
                    </button>
                </div>
                <div class="data-table">
                    <div class="table-header">
                        <input type="text" class="search-input" id="booksSearch" placeholder="Search books...">
                        <select class="filter-select" id="booksStatusFilter">
                            <option value="">All Status</option>
                            <option value="available">Available</option>
                            <option value="out_of_stock">Out of Stock</option>
                            <option value="discontinued">Discontinued</option>
                        </select>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="data-table" id="books-table" style="width: 100%; border-collapse: collapse;">
                            <thead style="background: #f9fafb;">
                                <tr>
                                    <th onclick="sortBooksTable(0)" style="padding: 1rem; text-align: left; font-weight: 600; color: #374151; cursor: pointer; user-select: none;">Title (EN) <i class="fas fa-sort" style="margin-left: 5px; opacity: 0.5;"></i></th>
                                    <th onclick="sortBooksTable(1)" style="padding: 1rem; text-align: left; font-weight: 600; color: #374151; cursor: pointer; user-select: none;">Title (TA) <i class="fas fa-sort" style="margin-left: 5px; opacity: 0.5;"></i></th>
                                    <th onclick="sortBooksTable(2)" style="padding: 1rem; text-align: left; font-weight: 600; color: #374151; cursor: pointer; user-select: none;">Author <i class="fas fa-sort" style="margin-left: 5px; opacity: 0.5;"></i></th>
                                    <th onclick="sortBooksTable(3)" style="padding: 1rem; text-align: left; font-weight: 600; color: #374151; cursor: pointer; user-select: none;">Category <i class="fas fa-sort" style="margin-left: 5px; opacity: 0.5;"></i></th>
                                    <th onclick="sortBooksTable(4)" style="padding: 1rem; text-align: left; font-weight: 600; color: #374151; cursor: pointer; user-select: none;">Price <i class="fas fa-sort" style="margin-left: 5px; opacity: 0.5;"></i></th>
                                    <th onclick="sortBooksTable(5)" style="padding: 1rem; text-align: left; font-weight: 600; color: #374151; cursor: pointer; user-select: none;">Stock <i class="fas fa-sort" style="margin-left: 5px; opacity: 0.5;"></i></th>
                                    <th onclick="sortBooksTable(6)" style="padding: 1rem; text-align: left; font-weight: 600; color: #374151; cursor: pointer; user-select: none;">Status <i class="fas fa-sort" style="margin-left: 5px; opacity: 0.5;"></i></th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="booksTableBody">
                                <!-- Books will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- E-books Management Section -->
            <div class="admin-section" id="ebooks">
                <div class="section-header">
                    <h1 style="margin: 0; color: var(--text-primary);">E-books Management</h1>
                </div>
                <div class="section-actions">
                    <button id="add-ebook-btn" class="btn btn-primary" onclick="openModal('ebook')">
                        <i class="fas fa-plus"></i> Add New E-book
                    </button>
                    <button class="btn btn-secondary" onclick="exportToCSV('ebooks')">
                        <i class="fas fa-download"></i> Export CSV
                    </button>
                    <button class="btn btn-info" onclick="refreshEbooks()">
                        <i class="fas fa-sync-alt"></i> Refresh E-books
                    </button>
                </div>
                <div class="data-table">
                    <div class="table-header">
                        <input type="text" class="search-input" id="ebooksSearch" placeholder="Search e-books...">
                        <select class="filter-select" id="ebooksStatusFilter">
                            <option value="">All Status</option>
                            <option value="available">Available</option>
                            <option value="coming_soon">Coming Soon</option>
                            <option value="discontinued">Discontinued</option>
                        </select>
                    </div>
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead style="background: #f9fafb;">
                                <tr>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Title (EN)</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Title (TA)</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Author (EN)</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Author (TA)</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Category</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Language</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Downloads</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Status</th>
                                    <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="ebooksTableBody">
                                <!-- E-books will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Projects Management Section -->
            <div class="admin-section" id="projects">
                <div class="section-header">
                    <h1 style="margin: 0; color: var(--text-primary);">Projects Management</h1>
                </div>

                <div class="admin-content">
                    <div class="action-buttons">
                        <button id="add-project-btn" class="btn btn-primary" onclick="openProjectModal()">
                            <i class="fas fa-plus"></i> Add New Project
                        </button>
                        <button class="btn btn-secondary" onclick="exportToCSV('projects')">
                            <i class="fas fa-download"></i> Export CSV
                        </button>
                        <button class="btn btn-info" onclick="refreshProjects()">
                            <i class="fas fa-sync-alt"></i> Refresh Projects
                        </button>
                    </div>

                    <div class="table-controls">
                        <div class="search-container">
                            <input type="text" id="projects-search" placeholder="Search projects..." class="search-input">
                            <i class="fas fa-search search-icon"></i>
                        </div>
                        <div class="filter-container">
                            <select id="projects-status-filter" class="filter-select">
                                <option value="">All Status</option>
                                <option value="draft">Draft</option>
                                <option value="active">Active</option>
                                <option value="archived">Archived</option>
                            </select>
                            <select id="projects-bureau-filter" class="filter-select">
                                <option value="">All Bureaus</option>
                                <option value="education">Education</option>
                                <option value="health">Health</option>
                                <option value="environment">Environment</option>
                                <option value="technology">Technology</option>
                                <option value="community">Community</option>
                                <option value="culture">Culture</option>
                                <option value="sports">Sports</option>
                                <option value="research">Research</option>
                            </select>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table" id="projects-table">
                            <thead>
                                <tr>
                                    <th>Images</th>
                                    <th>Title</th>
                                    <th>Bureau</th>
                                    <th>Status</th>
                                    <th>Team Size</th>
                                    <th>Created</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="projects-tbody">
                                <!-- Projects data will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Activities Management Section -->
            <div class="admin-section" id="activities">
                <div class="section-header">
                    <h1 style="margin: 0; color: var(--text-primary);">Activities Management</h1>
                </div>

                <div class="admin-content">
                    <div class="action-buttons">
                        <button id="add-activity-btn" class="btn btn-primary" onclick="openActivityModal()">
                            <i class="fas fa-plus"></i> Add New Activity
                        </button>
                        <button class="btn btn-secondary" onclick="exportToCSV('activities')">
                            <i class="fas fa-download"></i> Export CSV
                        </button>
                        <button class="btn btn-info" onclick="refreshActivities()">
                            <i class="fas fa-sync-alt"></i> Refresh Activities
                        </button>
                    </div>

                    <div class="table-controls">
                        <div class="search-container">
                            <input type="text" id="activities-search" placeholder="Search activities..." class="search-input">
                            <i class="fas fa-search search-icon"></i>
                        </div>
                        <div class="filter-container">
                            <select id="activities-status-filter" class="filter-select">
                                <option value="">All Status</option>
                                <option value="draft">Draft</option>
                                <option value="active">Active</option>
                                <option value="archived">Archived</option>
                            </select>
                            <select id="activities-bureau-filter" class="filter-select">
                                <option value="">All Bureaus</option>
                                <option value="education">Education</option>
                                <option value="health">Health</option>
                                <option value="environment">Environment</option>
                                <option value="technology">Technology</option>
                                <option value="community">Community</option>
                                <option value="culture">Culture</option>
                                <option value="sports">Sports</option>
                                <option value="research">Research</option>
                            </select>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table" id="activities-table">
                            <thead>
                                <tr>
                                    <th>Images</th>
                                    <th>Title</th>
                                    <th>Bureau</th>
                                    <th>Status</th>
                                    <th>Team Size</th>
                                    <th>Created</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="activities-tbody">
                                <!-- Activities data will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Initiatives Management Section -->
            <div class="admin-section" id="initiatives">
                <div class="section-header">
                    <h1 style="margin: 0; color: var(--text-primary);">Initiatives Management</h1>
                </div>

                <div class="admin-content">
                    <div class="action-buttons">
                        <button id="add-initiative-btn" class="btn btn-primary" onclick="openInitiativeModal()">
                            <i class="fas fa-plus"></i> Add New Initiative
                        </button>
                        <button class="btn btn-secondary" onclick="exportToCSV('initiatives')">
                            <i class="fas fa-download"></i> Export CSV
                        </button>
                        <button class="btn btn-info" onclick="refreshInitiatives()">
                            <i class="fas fa-sync-alt"></i> Refresh Initiatives
                        </button>
                    </div>

                    <div class="table-controls">
                        <div class="search-container">
                            <input type="text" id="initiatives-search" placeholder="Search initiatives..." class="search-input">
                            <i class="fas fa-search search-icon"></i>
                        </div>
                        <div class="filter-container">
                            <select id="initiatives-status-filter" class="filter-select">
                                <option value="">All Status</option>
                                <option value="draft">Draft</option>
                                <option value="active">Active</option>
                                <option value="archived">Archived</option>
                            </select>
                            <select id="initiatives-bureau-filter" class="filter-select">
                                <option value="">All Bureaus</option>
                                <option value="education">Education</option>
                                <option value="health">Health</option>
                                <option value="environment">Environment</option>
                                <option value="technology">Technology</option>
                                <option value="community">Community</option>
                                <option value="culture">Culture</option>
                                <option value="sports">Sports</option>
                                <option value="research">Research</option>
                            </select>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table" id="initiatives-table">
                            <thead>
                                <tr>
                                    <th>Images</th>
                                    <th>Title</th>
                                    <th>Bureau</th>
                                    <th>Status</th>
                                    <th>Team Size</th>
                                    <th>Created</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="initiatives-tbody">
                                <!-- Initiatives data will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Team Management Section -->
            <div class="admin-section" id="team">
                <div class="section-header">
                    <h1 style="margin: 0; color: var(--text-primary, #111827);">Team Management</h1>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-success" onclick="exportToCSV('team-members')">
                            <i class="fas fa-download"></i> Export CSV
                        </button>
                        <button class="btn btn-primary" onclick="openTeamMemberModal()">
                            <i class="fas fa-plus"></i> Add Team Member
                        </button>
                    </div>
                </div>
                
                <div class="admin-content">
                    <div class="table-controls">
                        <div class="search-container">
                            <input type="text" id="team-search" placeholder="Search team members..." class="search-input" onkeyup="filterTeamMembers()">
                            <i class="fas fa-search search-icon"></i>
                        </div>
                        <div class="filter-container">
                            <select id="team-role-filter" class="filter-select" onchange="filterTeamMembers()">
                                <option value="">All Roles</option>
                                <option value="President">President</option>
                                <option value="Vice President">Vice President</option>
                                <option value="Secretary">Secretary</option>
                                <option value="Treasurer">Treasurer</option>
                                <option value="Executive Committee Member">Executive Committee Member</option>
                                <option value="Board Member">Board Member</option>
                                <option value="Advisor">Advisor</option>
                                <option value="Coordinator">Coordinator</option>
                                <option value="Volunteer">Volunteer</option>
                                <option value="Staff">Staff</option>
                            </select>
                            <select id="team-status-filter" class="filter-select" onchange="filterTeamMembers()">
                                <option value="">All Status</option>
                                <option value="true">Active</option>
                                <option value="false">Inactive</option>
                            </select>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table" id="team-table">
                            <thead>
                                <tr>
                                    <th onclick="sortTeamMembers('image')" style="cursor: pointer;">Photo</th>
                                    <th onclick="sortTeamMembers('name_en')" style="cursor: pointer;">Name (EN) <i class="fas fa-sort"></i></th>
                                    <th onclick="sortTeamMembers('name_ta')" style="cursor: pointer;">Name (TA) <i class="fas fa-sort"></i></th>
                                    <th onclick="sortTeamMembers('role')" style="cursor: pointer;">Role <i class="fas fa-sort"></i></th>
                                    <th onclick="sortTeamMembers('email')" style="cursor: pointer;">Email <i class="fas fa-sort"></i></th>
                                    <th onclick="sortTeamMembers('is_active')" style="cursor: pointer;">Active <i class="fas fa-sort"></i></th>
                                    <th onclick="sortTeamMembers('order_num')" style="cursor: pointer;">Order <i class="fas fa-sort"></i></th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="teamTableBody">
                                <!-- Team members data will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Mobile Card View -->
                    <div class="mobile-cards" id="team-mobile-cards" style="display: none;">
                        <!-- Mobile cards will be populated here -->
                    </div>
                </div>
            </div>



            <!-- Chat Management Section -->
            <div class="admin-section" id="chats">
                <div class="section-header">
                    <h1 style="margin: 0; color: var(--text-primary, #111827);">Chat Management</h1>
                    <div style="display: flex; gap: 1rem;">
                        <button class="btn btn-success" onclick="exportToCSV('chats')">
                            <i class="fas fa-download"></i> Export CSV
                        </button>
                        <button class="btn btn-primary" onclick="refreshChats()">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                </div>
                
                <div style="display: grid; gap: 2rem;">
                    <!-- Chat Stats -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(59, 130, 246, 0.1); color: #3b82f6;">
                                <i class="fas fa-comments"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="totalChats">0</h3>
                                <p>Total Chats</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">
                                <i class="fas fa-comment-dots"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="activeChats">0</h3>
                                <p>Active Chats</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="unreadMessages">0</h3>
                                <p>Unread Messages</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-content">
                                <h3 id="pendingChats">0</h3>
                                <p>Pending Response</p>
                            </div>
                        </div>
                    </div>

                    <!-- Chat Interface -->
                    <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 2rem; height: 600px;">
                        <!-- Chat List -->
                        <div style="background: var(--bg-primary, white); border-radius: 0.5rem; border: 1px solid var(--border-primary, #e5e7eb); overflow: hidden;">
                            <div style="padding: 1rem; border-bottom: 1px solid var(--border-primary, #e5e7eb); background: var(--bg-secondary, #f9fafb);">
                                <h3 style="margin: 0; font-size: 1.1rem; color: var(--text-primary, #111827);">Conversations</h3>
                                <div style="margin-top: 0.5rem; display: flex; gap: 0.5rem;">
                                    <input type="text" id="chatSearch" placeholder="Search chats..." style="flex: 1; padding: 0.5rem; border: 1px solid var(--border-secondary, #d1d5db); border-radius: 0.375rem; font-size: 0.875rem;">
                                    <select id="chatStatusFilter" style="padding: 0.5rem; border: 1px solid var(--border-secondary, #d1d5db); border-radius: 0.375rem; font-size: 0.875rem;">
                                        <option value="">All Status</option>
                                        <option value="active">Active</option>
                                        <option value="pending">Pending</option>
                                        <option value="resolved">Resolved</option>
                                        <option value="closed">Closed</option>
                                    </select>
                                </div>
                            </div>
                            <div id="chatList" style="height: calc(100% - 120px); overflow-y: auto;">
                                <!-- Chat list will be loaded here -->
                            </div>
                        </div>

                        <!-- Chat Messages -->
                        <div style="background: var(--bg-primary, white); border-radius: 0.5rem; border: 1px solid var(--border-primary, #e5e7eb); display: flex; flex-direction: column;">
                            <div id="chatHeader" style="padding: 1rem; border-bottom: 1px solid var(--border-primary, #e5e7eb); background: var(--bg-secondary, #f9fafb); display: none;">
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <h3 id="chatUserName" style="margin: 0; font-size: 1.1rem; color: var(--text-primary, #111827);">Select a chat</h3>
                                        <p id="chatUserEmail" style="margin: 0; font-size: 0.875rem; color: var(--text-secondary, #6b7280);"></p>
                                    </div>
                                    <div style="display: flex; gap: 0.5rem;">
                                        <select id="chatStatusSelect" style="padding: 0.5rem; border: 1px solid var(--border-secondary, #d1d5db); border-radius: 0.375rem; font-size: 0.875rem;">
                                            <option value="active">Active</option>
                                            <option value="pending">Pending</option>
                                            <option value="resolved">Resolved</option>
                                            <option value="closed">Closed</option>
                                        </select>
                                        <button id="updateChatStatus" class="btn btn-sm btn-primary">Update</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="chatMessages" style="flex: 1; padding: 1rem; overflow-y: auto; background: var(--bg-tertiary, #f8fafc);">
                                <div style="text-align: center; color: var(--text-secondary, #6b7280); margin-top: 2rem;">
                                    <i class="fas fa-comments" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.3;"></i>
                                    <p>Select a conversation to start chatting</p>
                                </div>
                            </div>
                            
                            <div id="chatInput" style="padding: 1rem; border-top: 1px solid var(--border-primary, #e5e7eb); background: var(--bg-primary, white); display: none;">
                                <div style="display: flex; gap: 0.5rem;">
                                    <textarea id="messageInput" placeholder="Type your message..." style="flex: 1; padding: 0.75rem; border: 1px solid var(--border-secondary, #d1d5db); border-radius: 0.375rem; resize: none; min-height: 60px;"></textarea>
                                    <button id="sendMessage" class="btn btn-primary" style="align-self: flex-end;">
                                        <i class="fas fa-paper-plane"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>

            <!-- Users Management Section -->
            <div class="admin-section" id="users">
                <div class="section-header">
                    <h1 style="margin: 0; color: var(--text-primary);">Users Management</h1>
                </div>

                <div class="admin-content">
                    <div class="action-buttons">
                        <button class="btn btn-secondary" onclick="exportToCSV('users')">
                            <i class="fas fa-download"></i> Export CSV
                        </button>
                        <button class="btn btn-info" onclick="refreshUsersEnhanced()">
                            <i class="fas fa-sync-alt"></i> Refresh Users
                        </button>
                    </div>

                    <div class="table-controls">
                        <div class="search-container">
                            <input type="text" id="users-search" placeholder="Search users..." class="search-input">
                            <i class="fas fa-search search-icon"></i>
                        </div>
                        <div class="filter-container">
                            <select id="users-role-filter" class="filter-select">
                                <option value="">All Roles</option>
                                <option value="admin">Admin</option>
                                <option value="moderator">Moderator</option>
                                <option value="user">User</option>
                            </select>
                            <select id="users-status-filter" class="filter-select">
                                <option value="">All Status</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                                <option value="suspended">Suspended</option>
                            </select>
                        </div>
                    </div>

                    <div class="table-container">
                        <!-- Bulk Operations Section -->
                        <div id="bulkOperationsDiv" style="display: none; margin-bottom: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 8px; border: 1px solid #e9ecef;">
                            <div style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
                                <span style="font-weight: 600; color: #495057;">
                                    <span id="selectedCount">0</span> users selected
                                </span>
                                <div style="display: flex; gap: 0.5rem;">
                                    <button class="btn btn-sm btn-success" onclick="showBulkOperationsModal('activate')">
                                        <i class="fas fa-check-circle"></i> Activate
                                    </button>
                                    <button class="btn btn-sm btn-warning" onclick="showBulkOperationsModal('deactivate')">
                                        <i class="fas fa-pause-circle"></i> Deactivate
                                    </button>
                                    <button class="btn btn-sm btn-danger" onclick="showBulkOperationsModal('delete')">
                                        <i class="fas fa-trash"></i> Delete
                                    </button>
                                </div>
                            </div>
                        </div>

                        <table class="data-table" id="users-table">
                            <thead>
                                <tr>
                                    <th style="width: 40px;">
                                        <input type="checkbox" id="selectAllUsers" onchange="toggleAllUsers()" title="Select All">
                                    </th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Role</th>
                                    <th>Status</th>
                                    <th>Joined</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <!-- Users data will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Users Pagination -->
                    <div id="users-pagination" class="pagination-container" style="margin-top: 1rem; display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
                        <!-- Pagination controls will be inserted here -->
                    </div>
                </div>
            </div>

            <!-- Announcements Section -->
            <div class="admin-section" id="announcements">
                <div class="section-header">
                    <h1 style="margin: 0; color: #111827;">Announcements & Notifications</h1>
                    <div style="display: flex; gap: 1rem;">
                        <button class="btn btn-primary" onclick="openModal('announcement')">
                            <i class="fas fa-plus"></i> Create Announcement
                        </button>
                        <button class="btn btn-success" onclick="exportToCSV('announcements')">
                            <i class="fas fa-download"></i> Export CSV
                        </button>
                        <button class="btn btn-info" onclick="refreshAnnouncements()">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                </div>
                
                <div class="admin-content">
                    <!-- Quick Stats -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(59, 130, 246, 0.1); color: #3b82f6;">
                                <i class="fas fa-bullhorn"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="totalAnnouncementsCount">0</div>
                                <div class="stat-label">Total Announcements</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">
                                <i class="fas fa-eye"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="activeAnnouncementsCount">0</div>
                                <div class="stat-label">Active</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="scheduledAnnouncementsCount">0</div>
                                <div class="stat-label">Scheduled</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">
                                <i class="fas fa-archive"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="archivedAnnouncementsCount">0</div>
                                <div class="stat-label">Archived</div>
                            </div>
                        </div>
                    </div>

                    <!-- Table Controls -->
                    <div class="table-controls">
                        <div class="search-container">
                            <input type="text" id="announcements-search" placeholder="Search announcements..." class="search-input">
                            <i class="fas fa-search search-icon"></i>
                        </div>
                        <div class="filter-container">
                            <select id="announcements-status-filter" class="filter-select">
                                <option value="">All Status</option>
                                <option value="active">Active</option>
                                <option value="scheduled">Scheduled</option>
                                <option value="expired">Expired</option>
                                <option value="archived">Archived</option>
                            </select>
                            <select id="announcements-type-filter" class="filter-select">
                                <option value="">All Types</option>
                                <option value="general">General</option>
                                <option value="urgent">Urgent</option>
                                <option value="maintenance">Maintenance</option>
                                <option value="event">Event</option>
                            </select>
                        </div>
                    </div>

                    <!-- Announcements Table -->
                    <div class="table-container">
                        <table class="data-table" id="announcements-table">
                            <thead>
                                <tr>
                                    <th>Title</th>
                                    <th>Type</th>
                                    <th>Status</th>
                                    <th>Start Date</th>
                                    <th>End Date</th>
                                    <th>Views</th>
                                    <th>Created</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="announcements-tbody">
                                <!-- Announcements data will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Purchased Books Section -->
            <div class="admin-section" id="purchased-books">
                <div class="section-header">
                    <h1 style="margin: 0; color: var(--text-primary, #111827);">Purchased Books Management</h1>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-success" onclick="exportPurchasedBooksCSV()">
                            <i class="fas fa-download"></i> Export CSV
                        </button>
                    </div>
                </div>
                
                <div style="display: grid; gap: 2rem;">
                    <!-- Quick Stats -->
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(59, 130, 246, 0.1); color: #3b82f6;">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="totalOrdersCount">0</div>
                                <div class="stat-label">Total Orders</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(245, 158, 11, 0.1); color: #f59e0b;">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="pendingOrdersCount">0</div>
                                <div class="stat-label">Pending Orders</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="processedOrdersCount">0</div>
                                <div class="stat-label">Processed Orders</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(139, 92, 246, 0.1); color: #8b5cf6;">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="totalRevenueAmount">$0</div>
                                <div class="stat-label">Total Revenue</div>
                            </div>
                        </div>
                    </div>

                    <!-- Orders Table -->
                    <div class="data-table">
                        <div class="table-header">
                            <input type="text" class="search-input" id="purchasedBooksSearch" placeholder="Search orders...">
                            <select class="filter-select" id="purchasedBooksStatusFilter">
                                <option value="">All Status</option>
                                <option value="pending">Pending</option>
                                <option value="processed">Processed</option>
                                <option value="shipped">Shipped</option>
                                <option value="delivered">Delivered</option>
                                <option value="cancelled">Cancelled</option>
                            </select>
                        </div>
                        <div style="overflow-x: auto;">
                            <table style="width: 100%; border-collapse: collapse;">
                                <thead style="background: #f9fafb;">
                                    <tr>
                                        <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Order ID</th>
                                        <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Customer</th>
                                        <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Book</th>
                                        <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Price</th>
                                        <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Payment</th>
                                        <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Status</th>
                                        <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Date</th>
                                        <th style="padding: 1rem; text-align: left; font-weight: 600; color: #374151;">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="purchasedBooksTableBody">
                                    <!-- Orders will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Payment Settings Section -->
            <div class="admin-section" id="payment-settings">
                <div class="section-header">
                    <h1 style="margin: 0; color: var(--text-primary, #111827);">Payment Gateway Settings</h1>
                    <button class="btn btn-primary" onclick="showAddPaymentGatewayModal()">
                        <i class="fas fa-plus"></i> Add Payment Gateway
                    </button>
                </div>
                
                <div class="stats-grid" style="margin-bottom: 2rem;">
                    <div class="stat-card">
                        <div class="stat-value" id="totalGateways">0</div>
                        <div class="stat-label">Total Gateways</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="activeGateways">0</div>
                        <div class="stat-label">Active Gateways</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="testModeGateways">0</div>
                        <div class="stat-label">Test Mode</div>
                    </div>
                </div>

                <div class="table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Gateway</th>
                                <th>Mode</th>
                                <th>Status</th>
                                <th>API Key</th>
                                <th>Created</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="paymentGatewaysTableBody">
                            <!-- Payment gateways will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Payment Gateway Modal -->
            <div id="paymentGatewayModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="paymentGatewayModalTitle">Add Payment Gateway</h3>
                        <button class="close-modal" onclick="closeModal('paymentGatewayModal')">&times;</button>
                    </div>
                    <div class="modal-body">
                        <form id="paymentGatewayForm">
                            <input type="hidden" id="paymentGatewayId">
                            
                            <div class="form-group">
                                <label for="gateway">Payment Gateway *</label>
                                <select id="gateway" class="form-control" required>
                                    <option value="">Select Gateway</option>
                                    <option value="stripe">Stripe</option>
                                    <option value="paypal">PayPal</option>
                                    <option value="fpx">FPX (Malaysian Banks)</option>
                                    <option value="razorpay">Razorpay</option>
                                    <option value="square">Square</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="apiKey">API Key *</label>
                                <input type="password" id="apiKey" class="form-control" required placeholder="Enter API key">
                                <small class="form-text">Your API key will be encrypted and stored securely</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="secretKey">Secret Key *</label>
                                <input type="password" id="secretKey" class="form-control" required placeholder="Enter secret key">
                                <small class="form-text">Your secret key will be encrypted and stored securely</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="webhookSecret">Webhook Secret</label>
                                <input type="password" id="webhookSecret" class="form-control" placeholder="Enter webhook secret (optional)">
                                <small class="form-text">Used for webhook signature verification</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="mode">Mode *</label>
                                <select id="mode" class="form-control" required>
                                    <option value="test">Test Mode</option>
                                    <option value="live">Live Mode</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="isActive"> Set as Active Gateway
                                </label>
                                <small class="form-text">Only one gateway can be active at a time</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="configuration">Additional Configuration (JSON)</label>
                                <textarea id="configuration" class="form-control" rows="4" placeholder='{"currency": "USD", "country": "US"}'></textarea>
                                <small class="form-text">Optional gateway-specific configuration in JSON format</small>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" onclick="closeModal('paymentGatewayModal')">Cancel</button>
                        <button type="button" class="btn btn-primary" onclick="savePaymentGateway()">Save Gateway</button>
                    </div>
                </div>
            </div>

            <!-- Posters Section -->
            <div class="admin-section" id="posters">
                <div class="section-header">
                    <h1 style="margin: 0; color: #111827;">Posters Management</h1>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-success" onclick="exportToCSV('posters')">
                            <i class="fas fa-download"></i> Export CSV
                        </button>
                        <button class="btn btn-primary" onclick="openModal('poster')">
                            <i class="fas fa-plus"></i> Add New Poster
                        </button>
                    </div>
                </div>
                
                <!-- Posters Stats -->
                <div class="stats-grid" style="margin-bottom: 2rem;">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-image"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalPosters">0</h3>
                            <p>Total Posters</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalPosterViews">0</h3>
                            <p>Total Views</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-mouse-pointer"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalPosterClicks">0</h3>
                            <p>Total Clicks</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="activePosters">0</h3>
                            <p>Active Posters</p>
                        </div>
                    </div>
                </div>

                <!-- Posters Table -->
                <div class="data-table">
                    <div class="table-header">
                        <div class="search-container">
                            <input type="text" id="posterSearch" class="search-input" placeholder="Search posters...">
                            <i class="fas fa-search"></i>
                        </div>
                        <select id="posterStatusFilter" class="filter-select">
                            <option value="all">All Status</option>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                        <select id="posterPriorityFilter" class="filter-select">
                            <option value="all">All Priorities</option>
                            <option value="high">High (8-10)</option>
                            <option value="medium">Medium (4-7)</option>
                            <option value="low">Low (1-3)</option>
                        </select>
                    </div>
                    <div class="table-container">
                        <table id="postersTable">
                            <thead>
                                <tr>
                                    <th>Image</th>
                                    <th>Title</th>
                                    <th>Status</th>
                                    <th>Priority</th>
                                    <th>Views</th>
                                    <th>Clicks</th>
                                    <th>Start Date</th>
                                    <th>End Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="postersTableBody">
                                <!-- Posters will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Slideshow Section -->
            <div class="admin-section" id="slideshow">
                <div class="section-header">
                    <h1 style="margin: 0; color: #111827;">Slideshow Management</h1>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-success" onclick="exportSlideshowSettings()">
                            <i class="fas fa-download"></i> Export Settings
                        </button>
                        <button class="btn btn-primary" onclick="openSlideshowUpload()">
                            <i class="fas fa-plus"></i> Add Slide
                        </button>
                    </div>
                </div>
                
                <div style="display: grid; gap: 2rem;">
                    <!-- Page Selection -->
                    <div class="data-table">
                        <div style="padding: 1.5rem; border-bottom: 1px solid var(--border-secondary);">
                            <h3 style="margin: 0; color: var(--text-primary);">Page Selection</h3>
                            <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary); font-size: 0.9rem;">Select which pages should display slideshow images</p>
                        </div>
                        <div style="padding: 1.5rem;">
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="pageHome" checked>
                                        <span class="checkmark"></span>
                                        Home Page
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="pageAbout">
                                        <span class="checkmark"></span>
                                        About Page
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="pageServices">
                                        <span class="checkmark"></span>
                                        Services Page
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="pageProjects">
                                        <span class="checkmark"></span>
                                        Projects Page
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="pageContact">
                                        <span class="checkmark"></span>
                                        Contact Page
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="pageActivities">
                                        <span class="checkmark"></span>
                                        Activities Page
                                    </label>
                                </div>
                            </div>
                            <div style="margin-top: 1rem;">
                                <button class="btn btn-primary" onclick="savePageSelection()">
                                    <i class="fas fa-save"></i> Save Page Selection
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Slideshow Settings -->
                    <div class="data-table">
                        <div style="padding: 1.5rem; border-bottom: 1px solid var(--border-secondary);">
                            <h3 style="margin: 0; color: var(--text-primary);">Slideshow Settings</h3>
                        </div>
                        <div style="padding: 1.5rem;">
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                                <div class="form-group">
                                    <label for="slideshowInterval">Slide Interval (seconds)</label>
                                    <input type="number" id="slideshowInterval" class="form-control" value="5" min="2" max="30">
                                </div>
                                <div class="form-group">
                                    <label for="slideshowAutoplay">Autoplay</label>
                                    <select id="slideshowAutoplay" class="form-control">
                                        <option value="true">Enabled</option>
                                        <option value="false">Disabled</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="slideshowControls">Show Controls</label>
                                    <select id="slideshowControls" class="form-control">
                                        <option value="true">Show</option>
                                        <option value="false">Hide</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="slideshowIndicators">Show Indicators</label>
                                    <select id="slideshowIndicators" class="form-control">
                                        <option value="true">Show</option>
                                        <option value="false">Hide</option>
                                    </select>
                                </div>
                            </div>
                            <div style="margin-top: 1rem;">
                                <button class="btn btn-primary" onclick="saveSlideshowSettings()">
                                    <i class="fas fa-save"></i> Save Settings
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Current Slides -->
                    <div class="data-table">
                        <div style="padding: 1.5rem; border-bottom: 1px solid var(--border-secondary);">
                            <h3 style="margin: 0; color: var(--text-primary);">Current Slides</h3>
                        </div>
                        <div id="slideshowGallery" style="padding: 1.5rem;">
                            <div id="slidesContainer" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem;">
                                <!-- Slides will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <!-- Upload New Slide -->
                    <div class="data-table" id="slideUploadSection" style="display: none;">
                        <div style="padding: 1.5rem; border-bottom: 1px solid var(--border-secondary);">
                            <h3 style="margin: 0; color: var(--text-primary);">Upload New Slide</h3>
                        </div>
                        <div style="padding: 1.5rem;">
                            <div class="image-upload-container" id="slideUploadArea">
                                <div class="image-upload-text">
                                    <i class="fas fa-cloud-upload-alt" style="font-size: 3rem; color: var(--text-tertiary); margin-bottom: 1rem;"></i>
                                    <p>Drag and drop an image here or click to browse</p>
                                    <p style="font-size: 0.8rem; color: var(--text-tertiary);">Recommended: 1920x1080px, JPG/PNG, Max 5MB</p>
                                </div>
                                <input type="file" id="slideFileInput" accept="image/*" style="display: none;">
                            </div>
                            <div style="margin-top: 1rem; display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div class="form-group">
                                    <label for="slideTitle">Slide Title (Optional)</label>
                                    <input type="text" id="slideTitle" class="form-control" placeholder="Enter slide title">
                                </div>
                                <div class="form-group">
                                    <label for="slideOrder">Display Order</label>
                                    <input type="number" id="slideOrder" class="form-control" value="1" min="1">
                                </div>
                            </div>
                            <div style="margin-top: 1rem;">
                                <div class="form-group">
                                    <label for="slideAlt">Alt Text (Optional)</label>
                                    <input type="text" id="slideAlt" class="form-control" placeholder="Describe the image for accessibility">
                                </div>
                            </div>
                            <div style="margin-top: 1rem; display: flex; gap: 1rem;">
                                <button class="btn btn-primary" onclick="uploadSlide()">
                                    <i class="fas fa-upload"></i> Upload Slide
                                </button>
                                <button class="btn btn-secondary" onclick="cancelSlideUpload()">
                                    <i class="fas fa-times"></i> Cancel
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <!-- File Storage Section -->
            <div class="admin-section" id="file-storage">
                <div class="section-header">
                    <h1 style="margin: 0; color: #111827;">File Storage Management</h1>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-warning" onclick="cleanupOrphanedFiles()">
                            <i class="fas fa-broom"></i> Cleanup Orphaned
                        </button>
                        <button class="btn btn-success" onclick="exportAllFiles()">
                            <i class="fas fa-download"></i> Export All Files
                        </button>
                        <button class="btn btn-info" onclick="refreshFileStats()">
                            <i class="fas fa-sync"></i> Refresh Stats
                        </button>
                    </div>
                </div>
                
                <div style="display: grid; gap: 2rem;">
                    <!-- File Storage Statistics -->
                    <div class="data-table">
                        <div style="padding: 1.5rem; border-bottom: 1px solid var(--border-secondary);">
                            <h3 style="margin: 0; color: var(--text-primary);">Storage Statistics</h3>
                        </div>
                        <div style="padding: 1.5rem;">
                            <div id="fileStatsContainer" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                                <div class="stat-card" style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 0.5rem; text-align: center;">
                                    <div style="font-size: 2rem; font-weight: bold; color: var(--accent-primary);" id="totalFiles">-</div>
                                    <div style="color: var(--text-secondary); margin-top: 0.5rem;">Total Files</div>
                                </div>
                                <div class="stat-card" style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 0.5rem; text-align: center;">
                                    <div style="font-size: 2rem; font-weight: bold; color: var(--accent-secondary);" id="totalSize">-</div>
                                    <div style="color: var(--text-secondary); margin-top: 0.5rem;">Total Size</div>
                                </div>
                                <div class="stat-card" style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 0.5rem; text-align: center;">
                                    <div style="font-size: 2rem; font-weight: bold; color: var(--text-accent);" id="categoriesCount">-</div>
                                    <div style="color: var(--text-secondary); margin-top: 0.5rem;">Categories</div>
                                </div>
                                <div class="stat-card" style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 0.5rem; text-align: center;">
                                    <div style="font-size: 2rem; font-weight: bold; color: var(--success-color);" id="linkedFiles">-</div>
                                    <div style="color: var(--text-secondary); margin-top: 0.5rem;">Linked Files</div>
                                </div>
                            </div>
                            <div id="categoryBreakdown" style="margin-top: 2rem;">
                                <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Category Breakdown</h4>
                                <div id="categoryStats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
                                    <!-- Category stats will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- File Browser -->
                    <div class="data-table">
                        <div style="padding: 1.5rem; border-bottom: 1px solid var(--border-secondary); display: flex; justify-content: space-between; align-items: center;">
                            <h3 style="margin: 0; color: var(--text-primary);">File Browser</h3>
                            <div style="display: flex; gap: 1rem; align-items: center;">
                                <select id="categoryFilter" class="form-control" style="width: auto;" onchange="filterFiles()">
                                    <option value="">All Categories</option>
                                    <option value="books">Books</option>
                                    <option value="ebooks">E-books</option>
                                    <option value="general">General</option>
                                    <option value="slideshow">Slideshow</option>
                                </select>
                                <input type="text" id="fileSearch" class="form-control" placeholder="Search files..." style="width: 200px;" onkeyup="filterFiles()">
                                <span id="fileCount" style="color: var(--text-secondary); font-size: 0.9rem;">Loading...</span>
                            </div>
                        </div>
                        <div id="fileContainer" style="padding: 1.5rem;">
                            <div class="table-responsive">
                                <table class="table" id="filesTable">
                                    <thead>
                                        <tr>
                                            <th>Preview</th>
                                            <th>Filename</th>
                                            <th>Category</th>
                                            <th>Size</th>
                                            <th>Type</th>
                                            <th>Linked</th>
                                            <th>Upload Date</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="filesTableBody">
                                        <!-- Files will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                            <div id="filePagination" style="margin-top: 1rem; display: flex; justify-content: center; gap: 0.5rem;">
                                <!-- Pagination will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <!-- Export Options -->
                    <div class="data-table">
                        <div style="padding: 1.5rem; border-bottom: 1px solid var(--border-secondary);">
                            <h3 style="margin: 0; color: var(--text-primary);">Export & Backup</h3>
                        </div>
                        <div style="padding: 1.5rem;">
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                                <div class="export-option" style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 0.5rem;">
                                    <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Export by Category</h4>
                                    <select id="exportCategory" class="form-control" style="margin-bottom: 1rem;">
                                        <option value="">Select Category</option>
                                        <option value="books">Books</option>
                                        <option value="ebooks">E-books</option>
                                        <option value="general">General</option>
                                        <option value="slideshow">Slideshow</option>
                                    </select>
                                    <button class="btn btn-primary" onclick="exportFilesByCategory()" style="width: 100%;">
                                        <i class="fas fa-download"></i> Export Category
                                    </button>
                                </div>
                                <div class="export-option" style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 0.5rem;">
                                    <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Full Backup</h4>
                                    <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.9rem;">Export all files with metadata manifest</p>
                                    <button class="btn btn-success" onclick="exportAllFiles()" style="width: 100%;">
                                        <i class="fas fa-archive"></i> Full Backup
                                    </button>
                                </div>
                                <div class="export-option" style="background: var(--bg-secondary); padding: 1.5rem; border-radius: 0.5rem;">
                                    <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Cleanup Tools</h4>
                                    <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.9rem;">Remove orphaned files not linked to database records</p>
                                    <button class="btn btn-warning" onclick="cleanupOrphanedFiles()" style="width: 100%;">
                                        <i class="fas fa-broom"></i> Cleanup Orphaned
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> <!-- End recruitment-editor-area -->

    <!-- Modal -->
    <div class="modal" id="adminModal">
        <div class="modal-content blue-gradient-form" style="max-width: 800px; border-radius: 1rem; position: relative;">
            <button onclick="closeModal()" style="position: absolute; top: 1rem; right: 1rem; background: var(--glass-bg); border: none; color: var(--text-primary); width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 1.25rem; z-index: 10;">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-header" style="border-bottom: 2px solid var(--border-secondary); padding-bottom: 1rem; margin-bottom: 2rem;">
                <h3 id="modalTitle" style="color: var(--text-primary); font-size: 1.8rem; text-shadow: var(--text-shadow); margin: 0; text-align: center;">Add New Item</h3>
            </div>
            <div class="modal-body">
                <div id="modalFormContainer">
                    <!-- Dynamic form content will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Announcement Modal -->
    <div id="announcementModal" class="modal">
        <div class="modal-content blue-gradient-form" style="max-width: 800px; border-radius: 1rem; position: relative;">
            <button onclick="closeModal()" style="position: absolute; top: 1rem; right: 1rem; background: var(--glass-bg); border: none; color: var(--text-primary); width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 1.25rem; z-index: 10;">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-header" style="border-bottom: 2px solid var(--border-secondary); padding-bottom: 1rem; margin-bottom: 2rem;">
                <h3 id="announcementModalTitle" style="color: var(--text-primary); font-size: 1.8rem; text-shadow: var(--text-shadow); margin: 0; text-align: center;">Create Announcement</h3>
            </div>
            <div class="modal-body">
                <form id="announcementForm" class="blue-gradient-form" onsubmit="handleAnnouncementFormSubmit(event)" style="margin: 0; box-shadow: none; background: none; padding: 0;">
                    <div class="form-group">
                        <label for="announcementTitle" class="form-label">Title *</label>
                        <input type="text" id="announcementTitle" name="title" class="form-input" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="announcementContent" class="form-label">Content *</label>
                        <textarea id="announcementContent" name="content" rows="6" class="form-textarea wysiwyg-editor" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="announcementType" class="form-label">Type</label>
                        <select id="announcementType" name="type" class="form-select">
                            <option value="info">Information</option>
                            <option value="warning">Warning</option>
                            <option value="success">Success</option>
                            <option value="error">Error</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="announcementPriority" class="form-label">Priority</label>
                        <select id="announcementPriority" name="priority" class="form-select">
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                            <option value="urgent">Urgent</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="announcementTargetAudience" class="form-label">Target Audience</label>
                        <select id="announcementTargetAudience" name="targetAudience" class="form-select">
                            <option value="all">All Users</option>
                            <option value="members">Members Only</option>
                            <option value="admins">Admins Only</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="announcementStatus" class="form-label">Status</label>
                        <select id="announcementStatus" name="status" class="form-select">
                            <option value="active" selected>Active</option>
                            <option value="draft">Draft</option>
                            <option value="scheduled">Scheduled</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="announcementExpiresAt" class="form-label">Expires At (Optional)</label>
                        <input type="datetime-local" id="announcementExpiresAt" name="expiresAt" class="form-input">
                    </div>
                    
                    <div class="form-group" style="display: flex; gap: 1rem; align-items: center;">
                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="checkbox" id="announcementSendEmail" name="sendEmail" checked>
                            Send email notification
                        </label>
                    </div>
                    
                    <div class="form-group" style="display: flex; gap: 1rem; align-items: center;">
                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="checkbox" id="announcementShowOnSite" name="showOnSite" checked>
                            Show on website
                        </label>
                    </div>
                    
                    <div class="form-actions" style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem; padding-top: 2rem; border-top: 2px solid var(--border-secondary);">
                        <button type="button" class="btn btn-secondary" onclick="closeModal()">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-plus"></i> <span id="announcementSubmitText">Create Announcement</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading" id="loadingOverlay">
        <div style="text-align: center;">
            <div class="spinner"></div>
            <p style="margin-top: 1rem; color: var(--text-secondary);">Loading...</p>
        </div>
    </div>

    <!-- Notification Modal -->
    <div id="notificationModal" class="notification-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--glass-bg); justify-content: center; align-items: center; z-index: 10000; backdrop-filter: blur(5px);">
        <div class="notification-modal-content blue-gradient-form" style="max-width: 800px; max-height: 90vh; overflow-y: auto; margin: 2rem; border-radius: 1rem; position: relative;">
            <button onclick="if(window.notificationManager) window.notificationManager.closeModal()" style="position: absolute; top: 1rem; right: 1rem; background: var(--glass-bg); border: none; color: var(--text-primary); width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 1.25rem; z-index: 10;">
                <i class="fas fa-times"></i>
            </button>
            <div class="notification-modal-header" style="border-bottom: 2px solid var(--border-secondary); padding-bottom: 1rem; margin-bottom: 2rem;">
                <h3 style="color: var(--text-primary); font-size: 1.8rem; text-shadow: var(--text-shadow); margin: 0; text-align: center;">Notifications</h3>
            </div>
            <div class="notification-modal-body">
                <div class="notification-filters" style="display: flex; gap: 0.5rem; margin-bottom: 1.5rem; justify-content: center;">
                    <button class="notification-filter-btn active" data-filter="all" style="padding: 0.75rem 1.5rem; background: var(--bg-accent); border: none; color: var(--text-primary); border-radius: 0.5rem; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">All</button>
                    <button class="notification-filter-btn" data-filter="unread" style="padding: 0.75rem 1.5rem; background: var(--glass-bg); border: none; color: var(--text-secondary); border-radius: 0.5rem; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">Unread</button>
                    <button class="notification-filter-btn" data-filter="system" style="padding: 0.75rem 1.5rem; background: var(--glass-bg); border: none; color: var(--text-secondary); border-radius: 0.5rem; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">System</button>
                    <button class="notification-filter-btn" data-filter="user" style="padding: 0.75rem 1.5rem; background: var(--glass-bg); border: none; color: var(--text-secondary); border-radius: 0.5rem; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">User</button>
                </div>
                <div id="notificationList" class="notification-list" style="max-height: 400px; overflow-y: auto; padding: 1rem; background: var(--glass-bg); border-radius: 0.75rem; border: 1px solid var(--border-secondary);">
                    <!-- Notifications will be loaded here -->
                </div>
            </div>
            <div class="notification-modal-footer" style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem; padding-top: 2rem; border-top: 2px solid var(--border-secondary);">
                <button onclick="if(window.notificationManager) window.notificationManager.markAllAsRead()" class="btn btn-secondary" style="padding: 0.875rem 1.5rem; background: var(--glass-bg); border: none; color: var(--text-primary); border-radius: 0.5rem; cursor: pointer; font-weight: 600; transition: all 0.3s ease;">
                    <i class="fas fa-check-double"></i> Mark All Read
                </button>
            </div>
        </div>
    </div>

    <!-- Bulk Operations Modal -->
    <div id="bulkOperationsModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h3 id="bulkOperationTitle">Bulk Operation</h3>
                <button onclick="closeBulkOperationsModal()" class="modal-close-btn" style="background: none; border: none; color: var(--text-primary); font-size: 1.5rem; cursor: pointer;">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p id="bulkOperationMessage">Are you sure you want to perform this action on the selected users?</p>
                <div id="selectedUsersList" style="max-height: 200px; overflow-y: auto; background: var(--bg-tertiary); padding: 1rem; border-radius: 0.5rem; margin: 1rem 0;">
                    <!-- Selected users will be listed here -->
                </div>
            </div>
            <div class="modal-footer" style="display: flex; gap: 1rem; justify-content: flex-end;">
                <button onclick="closeBulkOperationsModal()" class="btn btn-secondary">
                    <i class="fas fa-times"></i> Cancel
                </button>
                <button id="confirmBulkOperation" onclick="confirmBulkOperation()" class="btn btn-primary">
                    <i class="fas fa-check"></i> Confirm
                </button>
                <button onclick="if(window.notificationManager) window.notificationManager.clearNotifications()" class="btn btn-danger" style="padding: 0.875rem 1.5rem; background: var(--bg-danger); border: none; color: var(--text-primary); border-radius: 0.5rem; cursor: pointer; font-weight: 600; transition: all 0.3s ease; box-shadow: var(--shadow-lg);">
                    <i class="fas fa-trash"></i> Clear All
                </button>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="notification-toast" class="notification-toast">
        <div class="toast-content">
            <div class="toast-message"></div>
            <button class="toast-close" onclick="closeNotification()"></button>
        </div>
    </div>

    <!-- Section Creator Modal -->
    <div class="modal" id="sectionCreatorModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--glass-bg); display: none; justify-content: center; align-items: center; z-index: 10000; backdrop-filter: blur(15px);">
        <div class="section-creator-modal" style="background: var(--bg-secondary); border-radius: 2rem; padding: 0; max-width: 1000px; width: 95vw; max-height: 95vh; margin: 2rem auto; box-shadow: var(--shadow-xl); border: 2px solid var(--border-accent); backdrop-filter: blur(20px); position: relative; overflow: hidden; animation: modalSlideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1); display: flex; flex-direction: column;">
            <!-- Modal Header with Theme-Aware Gradient -->
            <div class="modal-header" style="background: var(--website-content-editor-bg); padding: 2rem 2.5rem; color: var(--text-primary); display: flex; justify-content: space-between; align-items: center; box-shadow: var(--shadow-xl); position: relative; border-bottom: 1px solid var(--border-secondary);">
                <div>
                    <h3 style="margin: 0; font-size: 2rem; font-weight: 700; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">Create New Section</h3>
                    <p style="margin: 0.5rem 0 0 0; opacity: 0.9; font-size: 1rem;">Add dynamic content to enhance your website</p>
                </div>
                <button onclick="closeSectionCreator()" class="modal-close-btn" style="background: var(--glass-bg); border: 2px solid var(--border-secondary); color: var(--text-primary); width: 50px; height: 50px; border-radius: 50%; cursor: pointer; font-size: 1.5rem; transition: all 0.3s ease; backdrop-filter: blur(10px);" onmouseover="this.style.background='var(--bg-danger)'; this.style.borderColor='var(--border-danger)'" onmouseout="this.style.background='var(--glass-bg)'; this.style.borderColor='var(--border-secondary)'">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <!-- Modal Body -->
            <div class="modal-body" style="padding: 2.5rem; background: var(--bg-secondary); flex: 1; overflow-y: auto;">
                <form id="sectionCreatorForm" class="creator-form" onsubmit="handleSectionCreation(event)" style="height: 100%;">
                    <!-- Enhanced Tab Navigation -->
                    <div class="tab-navigation" style="display: flex; background: var(--glass-bg); border-radius: 1rem; padding: 0.5rem; margin-bottom: 2rem; border: 1px solid var(--border-secondary);">
                        <button type="button" class="tab-btn active" onclick="switchTab('basic')" style="flex: 1; padding: 1rem 1.5rem; border: none; background: var(--bg-accent); color: var(--text-primary); border-radius: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-lg);">
                            <i class="fas fa-cog"></i> Basic Info
                        </button>
                        <button type="button" class="tab-btn" onclick="switchTab('type')" style="flex: 1; padding: 1rem 1.5rem; border: none; background: transparent; color: var(--text-secondary); border-radius: 0.75rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; margin-left: 0.5rem;" onmouseover="this.style.background='var(--bg-tertiary)'; this.style.color='var(--text-primary)'" onmouseout="if(!this.classList.contains('active')) { this.style.background='transparent'; this.style.color='var(--text-secondary)' }">
                            <i class="fas fa-puzzle-piece"></i> Section Type
                        </button>
                    </div>

                    <!-- Enhanced Basic Info Tab -->
                    <div id="basicTab" class="tab-content active" style="background: var(--glass-bg); border-radius: 1rem; padding: 2rem; border: 1px solid var(--border-secondary);">
                        <div class="form-group" style="margin-bottom: 2rem;">
                            <label style="display: block; margin-bottom: 0.75rem; color: var(--text-primary); font-weight: 600; font-size: 1rem; text-shadow: var(--text-shadow);">Select Page <span style="color: var(--text-danger);">*</span></label>
                            <select id="sectionPage" name="page" class="form-control" required style="width: 100%; padding: 1rem 1.25rem; border: 2px solid var(--border-secondary); border-radius: 0.75rem; background: var(--bg-secondary); color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease; backdrop-filter: blur(10px);" onfocus="this.style.borderColor='var(--border-accent)'; this.style.boxShadow='var(--shadow-lg)'" onblur="this.style.borderColor='var(--border-secondary)'; this.style.boxShadow='none'">
                                <option value="" style="background: var(--bg-primary); color: var(--text-secondary);">Choose a page...</option>
                                <option value="global" style="background: var(--bg-primary); color: var(--text-primary);"> Global Elements (Navbar/Footer)</option>
                                <option value="home" style="background: var(--bg-primary); color: var(--text-primary);"> Home</option>
                                <option value="about" style="background: var(--bg-primary); color: var(--text-primary);"> About</option>
                                <option value="books" style="background: var(--bg-primary); color: var(--text-primary);"> Books</option>
                                <option value="projects" style="background: var(--bg-primary); color: var(--text-primary);"> Projects</option>
                                <option value="ebooks" style="background: var(--bg-primary); color: var(--text-primary);"> E-books</option>
                                <option value="contact" style="background: var(--bg-primary); color: var(--text-primary);"> Contact Us</option>
                                
                                <option value="signup" style="background: var(--bg-primary); color: var(--text-primary);"> Sign Up</option>
                                <option value="login" style="background: var(--bg-primary); color: var(--text-primary);"> Login</option>
                            </select>
                        </div>

                        <div class="form-row" style="display: grid; grid-template-columns: 2fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 0.75rem; color: var(--text-primary); font-weight: 600; font-size: 1rem; text-shadow: var(--text-shadow);">Section Name <span style="color: var(--text-danger);">*</span></label>
                                <input type="text" id="sectionName" name="section" class="form-control" placeholder="e.g., hero, features, about-us" required style="width: 100%; padding: 1rem 1.25rem; border: 2px solid var(--border-secondary); border-radius: 0.75rem; background: var(--bg-secondary); color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease; backdrop-filter: blur(10px);" onfocus="this.style.borderColor='var(--border-accent)'; this.style.boxShadow='var(--shadow-lg)'" onblur="this.style.borderColor='var(--border-secondary)'; this.style.boxShadow='none'">
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 0.75rem; color: var(--text-primary); font-weight: 600; font-size: 1rem; text-shadow: var(--text-shadow);">Display Order</label>
                                <input type="number" id="sectionOrder" name="order" class="form-control" placeholder="1" min="1" value="1" style="width: 100%; padding: 1rem 1.25rem; border: 2px solid var(--border-secondary); border-radius: 0.75rem; background: var(--bg-secondary); color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease; backdrop-filter: blur(10px);" onfocus="this.style.borderColor='var(--border-accent)'; this.style.boxShadow='var(--shadow-lg)'" onblur="this.style.borderColor='var(--border-secondary)'; this.style.boxShadow='none'">
                            </div>
                        </div>

                        <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 0.75rem; color: var(--text-primary); font-weight: 600; font-size: 1rem; text-shadow: var(--text-shadow);">Status</label>
                                <select id="sectionStatus" name="isActive" class="form-control" style="width: 100%; padding: 1rem 1.25rem; border: 2px solid var(--border-secondary); border-radius: 0.75rem; background: var(--bg-secondary); color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease; backdrop-filter: blur(10px);" onfocus="this.style.borderColor='var(--border-accent)'; this.style.boxShadow='var(--shadow-lg)'" onblur="this.style.borderColor='var(--border-secondary)'; this.style.boxShadow='none'">
                                    <option value="true" style="background: var(--bg-primary); color: var(--text-primary);"> Active</option>
                                    <option value="false" style="background: var(--bg-primary); color: var(--text-primary);"> Inactive</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label style="display: block; margin-bottom: 0.75rem; color: var(--text-primary); font-weight: 600; font-size: 1rem; text-shadow: var(--text-shadow);">Visibility</label>
                                <select id="sectionVisibility" name="isVisible" class="form-control" style="width: 100%; padding: 1rem 1.25rem; border: 2px solid var(--border-secondary); border-radius: 0.75rem; background: var(--bg-secondary); color: var(--text-primary); font-size: 1rem; transition: all 0.3s ease; backdrop-filter: blur(10px);" onfocus="this.style.borderColor='var(--border-accent)'; this.style.boxShadow='var(--shadow-lg)'" onblur="this.style.borderColor='var(--border-secondary)'; this.style.boxShadow='none'">
                                    <option value="true" style="background: var(--bg-primary); color: var(--text-primary);"> Visible</option>
                                    <option value="false" style="background: var(--bg-primary); color: var(--text-primary);"> Hidden</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group-full">
                            <label style="display: block; margin-bottom: 0.75rem; color: var(--text-primary); font-weight: 600; font-size: 1rem; text-shadow: var(--text-shadow);">Description (Optional)</label>
                            <textarea id="sectionDescription" name="description" class="form-control wysiwyg-editor" placeholder="Brief description of this section's purpose" rows="4" style="width: 100%; padding: 1rem 1.25rem; border: 2px solid var(--border-secondary); border-radius: 0.75rem; background: var(--bg-secondary); color: var(--text-primary); font-size: 1rem; resize: vertical; transition: all 0.3s ease; backdrop-filter: blur(10px);" onfocus="this.style.borderColor='var(--border-accent)'; this.style.boxShadow='var(--shadow-lg)'" onblur="this.style.borderColor='var(--border-secondary)'; this.style.boxShadow='none'"></textarea>
                        </div>
                    </div>

                    <!-- Section Type Tab -->
                    <div id="typeTab" class="tab-content" style="display: none; background: var(--glass-bg); border-radius: 1rem; padding: 2rem; border: 1px solid var(--border-secondary);">
                        <div class="form-group-full">
                            <label style="display: block; margin-bottom: 1.5rem; color: var(--text-primary); font-weight: 600; font-size: 1.2rem; text-shadow: var(--text-shadow);">Choose Section Type <span style="color: var(--text-danger);">*</span></label>
                            <div class="section-type-selector" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                                <div class="section-type-card" data-type="hero" onclick="selectSectionType('hero', this)">
                                    <div class="section-type-icon">
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <h4 class="section-type-name">Hero Section</h4>
                                    <p>Main banner with title, subtitle, and CTA</p>
                                </div>
                                <div class="section-type-card" data-type="text" onclick="selectSectionType('text', this)">
                                    <div class="section-type-icon">
                                        <i class="fas fa-align-left"></i>
                                    </div>
                                    <h4 class="section-type-name">Text Content</h4>
                                    <p>Simple text content with title</p>
                                </div>
                                <div class="section-type-card" data-type="image-text" onclick="selectSectionType('image-text', this)">
                                    <div class="section-type-icon">
                                        <i class="fas fa-image"></i>
                                    </div>
                                    <h4 class="section-type-name">Image + Text</h4>
                                    <p>Image with accompanying text</p>
                                </div>
                                <div class="section-type-card" data-type="gallery" onclick="selectSectionType('gallery', this)">
                                    <div class="section-type-icon">
                                        <i class="fas fa-images"></i>
                                    </div>
                                    <h4 class="section-type-name">Gallery</h4>
                                    <p>Multiple images in a grid</p>
                                </div>
                                <div class="section-type-card" data-type="features" onclick="selectSectionType('features', this)">
                                    <div class="section-type-icon">
                                        <i class="fas fa-list-ul"></i>
                                    </div>
                                    <h4 class="section-type-name">Features List</h4>
                                    <p>List of features or services</p>
                                </div>
                                <div class="section-type-card" data-type="stats" onclick="selectSectionType('stats', this)">
                                    <div class="section-type-icon">
                                        <i class="fas fa-chart-bar"></i>
                                    </div>
                                    <h4 class="section-type-name">Statistics</h4>
                                    <p>Number counters and stats</p>
                                </div>
                                <div class="section-type-card" data-type="contact-info" onclick="selectSectionType('contact-info', this)">
                                    <div class="section-type-icon">
                                        <i class="fas fa-address-card"></i>
                                    </div>
                                    <h4 class="section-type-name">Contact Info</h4>
                                    <p>Contact details and information</p>
                                </div>
                                <div class="section-type-card" data-type="navigation" onclick="selectSectionType('navigation', this)">
                                    <div class="section-type-icon">
                                        <i class="fas fa-bars"></i>
                                    </div>
                                    <h4 class="section-type-name">Navigation</h4>
                                    <p>Menu and navigation items</p>
                                </div>
                            </div>
                            <input type="hidden" id="selectedSectionType" name="type" required>
                        </div>
                        
                        <!-- Dynamic Content Fields -->
                        <div id="dynamicContentFields" class="dynamic-content-section" style="display: none; margin-top: 2rem; padding: 2rem; background: var(--bg-secondary); border-radius: 1rem; border: 1px solid var(--border-secondary);">
                            <h4 style="margin: 0 0 1.5rem 0; color: var(--text-primary); font-weight: 600; font-size: 1.1rem;">Content Configuration</h4>
                            
                            <!-- Language Toggle -->
                            <div class="language-toggle" style="display: flex; background: var(--glass-bg); border-radius: 0.75rem; padding: 0.25rem; margin-bottom: 2rem; border: 1px solid var(--border-secondary); width: fit-content;">
                                <button type="button" class="lang-btn active" data-lang="en" onclick="switchContentLanguage('en')" style="padding: 0.75rem 1.5rem; border: none; background: var(--bg-accent); color: var(--text-primary); border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-sm);"> English</button>
                                <button type="button" class="lang-btn" data-lang="ta" onclick="switchContentLanguage('ta')" style="padding: 0.75rem 1.5rem; border: none; background: transparent; color: var(--text-secondary); border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; margin-left: 0.25rem;"> </button>
                            </div>
                            
                            <!-- Hero Section Fields -->
                            <div id="heroFields" class="section-fields" style="display: none;">
                                <div class="content-language-tab" data-lang="en">
                                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                                        <div class="form-group">
                                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">Main Title (English)</label>
                                            <input type="text" name="content[en][title]" class="form-control" placeholder="Welcome to Our Website" style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                        </div>
                                        <div class="form-group">
                                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">Subtitle (English)</label>
                                            <input type="text" name="content[en][subtitle]" class="form-control" placeholder="Your journey starts here" style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                        </div>
                                    </div>
                                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                                        <div class="form-group">
                                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">Button Text (English)</label>
                                            <input type="text" name="content[en][buttonText]" class="form-control" placeholder="Get Started" style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                        </div>
                                        <div class="form-group">
                                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">Button URL</label>
                                            <input type="url" name="content[en][buttonUrl]" class="form-control" placeholder="#contact" style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">Background Image URL</label>
                                        <input type="url" name="content[en][backgroundImage]" class="form-control" placeholder="https://example.com/hero-bg.jpg" style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                    </div>
                                </div>
                                <div class="content-language-tab" data-lang="ta" style="display: none;">
                                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                                        <div class="form-group">
                                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">  ()</label>
                                            <input type="text" name="content[ta][title]" class="form-control" placeholder="  " style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                        </div>
                                        <div class="form-group">
                                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">  ()</label>
                                            <input type="text" name="content[ta][subtitle]" class="form-control" placeholder="   " style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">  ()</label>
                                        <input type="text" name="content[ta][buttonText]" class="form-control" placeholder="" style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Text Section Fields -->
                            <div id="textFields" class="section-fields" style="display: none;">
                                <div class="content-language-tab" data-lang="en">
                                    <div class="form-group" style="margin-bottom: 1.5rem;">
                                        <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">Title (English)</label>
                                        <input type="text" name="content[en][title]" class="form-control" placeholder="Section Title" style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">Content (English)</label>
                                        <textarea name="content[en][text]" class="form-control" rows="4" placeholder="Your content here..." style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary); resize: vertical;"></textarea>
                                    </div>
                                </div>
                                <div class="content-language-tab" data-lang="ta" style="display: none;">
                                    <div class="form-group" style="margin-bottom: 1.5rem;">
                                        <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;"> ()</label>
                                        <input type="text" name="content[ta][title]" class="form-control" placeholder=" " style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;"> ()</label>
                                        <textarea name="content[ta][text]" class="form-control" rows="4" placeholder="  ..." style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary); resize: vertical;"></textarea>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Image + Text Section Fields -->
                            <div id="imageTextFields" class="section-fields" style="display: none;">
                                <div class="content-language-tab" data-lang="en">
                                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                                        <div class="form-group">
                                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">Title (English)</label>
                                            <input type="text" name="content[en][title]" class="form-control" placeholder="Section Title" style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                        </div>
                                        <div class="form-group">
                                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">Image URL</label>
                                            <input type="url" name="content[en][imageUrl]" class="form-control" placeholder="https://example.com/image.jpg" style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                        </div>
                                    </div>
                                    <div class="form-group" style="margin-bottom: 1.5rem;">
                                        <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">Description (English)</label>
                                        <textarea name="content[en][description]" class="form-control" rows="3" placeholder="Describe the image and content..." style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary); resize: vertical;"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">Image Position</label>
                                        <select name="content[en][imagePosition]" class="form-control" style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                            <option value="left">Left</option>
                                            <option value="right">Right</option>
                                            <option value="top">Top</option>
                                            <option value="bottom">Bottom</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="content-language-tab" data-lang="ta" style="display: none;">
                                    <div class="form-group" style="margin-bottom: 1.5rem;">
                                        <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;"> ()</label>
                                        <input type="text" name="content[ta][title]" class="form-control" placeholder=" " style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                    </div>
                                    <div class="form-group">
                                        <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;"> ()</label>
                                        <textarea name="content[ta][description]" class="form-control" rows="3" placeholder="   ..." style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary); resize: vertical;"></textarea>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Features List Fields -->
                            <div id="featuresFields" class="section-fields" style="display: none;">
                                <div class="content-language-tab" data-lang="en">
                                    <div class="form-group" style="margin-bottom: 1.5rem;">
                                        <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">Section Title (English)</label>
                                        <input type="text" name="content[en][title]" class="form-control" placeholder="Our Features" style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                    </div>
                                    <div class="features-list">
                                        <label style="display: block; margin-bottom: 1rem; color: var(--text-primary); font-weight: 600;">Features (English)</label>
                                        <div id="featuresListEn" class="dynamic-list">
                                            <div class="feature-item" style="display: flex; gap: 1rem; margin-bottom: 1rem; align-items: center;">
                                                <input type="text" name="content[en][features][0][title]" class="form-control" placeholder="Feature title" style="flex: 1; padding: 0.75rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                                <input type="text" name="content[en][features][0][description]" class="form-control" placeholder="Feature description" style="flex: 2; padding: 0.75rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                                <button type="button" onclick="removeFeatureItem(this)" class="btn-danger" style="padding: 0.75rem; border: none; background: var(--bg-danger); color: white; border-radius: 0.5rem; cursor: pointer;"></button>
                                            </div>
                                        </div>
                                        <button type="button" onclick="addFeatureItem('featuresListEn', 'en')" class="btn-secondary" style="padding: 0.75rem 1.5rem; border: none; background: var(--bg-accent); color: var(--text-primary); border-radius: 0.5rem; cursor: pointer; margin-top: 0.5rem;">+ Add Feature</button>
                                    </div>
                                </div>
                                <div class="content-language-tab" data-lang="ta" style="display: none;">
                                    <div class="form-group" style="margin-bottom: 1.5rem;">
                                        <label style="display: block; margin-bottom: 0.5rem; color: var(--text-primary); font-weight: 600;">  ()</label>
                                        <input type="text" name="content[ta][title]" class="form-control" placeholder=" " style="width: 100%; padding: 1rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                    </div>
                                    <div class="features-list">
                                        <label style="display: block; margin-bottom: 1rem; color: var(--text-primary); font-weight: 600;"> ()</label>
                                        <div id="featuresListTa" class="dynamic-list">
                                            <div class="feature-item" style="display: flex; gap: 1rem; margin-bottom: 1rem; align-items: center;">
                                                <input type="text" name="content[ta][features][0][title]" class="form-control" placeholder=" " style="flex: 1; padding: 0.75rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                                <input type="text" name="content[ta][features][0][description]" class="form-control" placeholder=" " style="flex: 2; padding: 0.75rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
                                                <button type="button" onclick="removeFeatureItem(this)" class="btn-danger" style="padding: 0.75rem; border: none; background: var(--bg-danger); color: white; border-radius: 0.5rem; cursor: pointer;"></button>
                                            </div>
                                        </div>
                                        <button type="button" onclick="addFeatureItem('featuresListTa', 'ta')" class="btn-secondary" style="padding: 0.75rem 1.5rem; border: none; background: var(--bg-accent); color: var(--text-primary); border-radius: 0.5rem; cursor: pointer; margin-top: 0.5rem;">+  </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="form-actions">
                        <button type="button" class="btn-secondary" onclick="closeSectionCreator()">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                        <button type="submit" class="btn-primary">
                            <i class="fas fa-plus"></i> Create Section
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <!-- Set API Base URL before other scripts load -->
    <script>
        window.TLS_API_BASE_URL = 'http://localhost:8080';
    console.log('API Base URL set to:', window.TLS_API_BASE_URL);
    console.log(' Admin panel TLS_API_BASE_URL:', window.TLS_API_BASE_URL);
    </script>
    <script src="frontend/public/js/token-manager.js?v=1.0"></script>
    <script src="frontend/public/js/modal-sidebar-manager.js"></script>
    <script src="frontend/public/js/api-integration.js?v=6.0"></script>
    <script src="frontend/public/js/main.js?v=5.0"></script>
    <script src="frontend/public/js/notifications.js?v=4.0"></script>
    <script src="frontend/public/js/auth.js?v=8.0"></script>
    <script src="frontend/public/js/auth-utils.js?v=6.0"></script>
      <script src="frontend/public/js/popup-notifications.js?v=2.0"></script>
      <script src="frontend/public/js/admin-chat.js?v=2.0"></script>
      <script src="frontend/public/js/purchased-books-management.js?v=2.0"></script>
      <script src="frontend/public/js/posters-management.js?v=2.0"></script>
      <!-- DOM utilities required by content-editor.js -->
      <script src="frontend/public/js/dom-cache.js?v=10.0"></script>
      <script src="frontend/public/js/event-manager.js?v=10.1"></script>
      <script src="frontend/public/js/content-editor.js?v=20250902180000"></script>
    <script src="frontend/public/js/team-management.js?v=1.1"></script>
    <script src="frontend/public/js/form-builder.js?v=1.0"></script>
    <script src="frontend/public/js/recruitment-manager.js?v=2.0"></script>
    
    
    <script src="frontend/public/js/csv-export.js?v=1.0"></script>
     <script src="frontend/public/js/dashboard.js?v=3.0"></script>
    <script src="frontend/public/js/user-management-enhanced.js?v=1.0"></script>

    <script src="frontend/public/js/admin.js?v=29.1"></script>
    
    <!-- Content Loading and Dropdown Fix Script -->
    <script>
        // Enhanced initialization for content loading and dropdown visibility
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Admin panel DOM loaded - applying fixes...');
            
            // Force dropdown visibility fixes
            setTimeout(() => {
                const dropdowns = document.querySelectorAll('.filter-select, select');
                dropdowns.forEach(dropdown => {
                    dropdown.style.color = 'var(--text-primary)';
                    dropdown.style.backgroundColor = 'var(--bg-secondary)';
                    dropdown.style.border = '2px solid var(--border-color)';
                    
                    // Force option visibility
                    const options = dropdown.querySelectorAll('option');
                    options.forEach(option => {
                        option.style.color = 'var(--text-primary)';
                        option.style.backgroundColor = 'var(--bg-secondary)';
                        option.style.fontWeight = '500';
                    });
                });
                
                // Force content visibility
                const contentContainers = document.querySelectorAll('.admin-section, .sections-container, .data-table');
                contentContainers.forEach(container => {
                    container.style.opacity = '1';
                    container.style.visibility = 'visible';
                    container.style.display = 'block';
                });
                
                console.log('Dropdown and content visibility fixes applied');
            }, 500);
            
            // Wait for ContentEditor to be initialized by content-editor.js
            // This prevents double initialization issues
            let contentEditorWaitAttempts = 0;
            const maxWaitAttempts = 50; // 10 seconds maximum wait time
            
            function waitForContentEditor() {
                contentEditorWaitAttempts++;
                
                // Check if ContentEditor is fully ready with all required methods
                if (window.contentEditor && 
                    window.contentEditor.initializationComplete && 
                    typeof window.contentEditor.switchContentPage === 'function' &&
                    window.contentEditor.isInitialized) {
                    console.log('ContentEditor fully initialized and ready, loading home page...');
                    // Load home page by default
                    setTimeout(() => {
                        try {
                            window.contentEditor.switchContentPage('home');
                            console.log('Successfully switched to home page');
                        } catch (error) {
                            console.error('Error switching to home page:', error);
                        }
                    }, 500);
                } else if (contentEditorWaitAttempts >= maxWaitAttempts) {
                    console.error('ContentEditor initialization timeout after 10 seconds. Proceeding with limited functionality.');
                    console.log('ContentEditor state:', {
                        exists: !!window.contentEditor,
                        initializationComplete: window.contentEditor?.initializationComplete,
                        isInitialized: window.contentEditor?.isInitialized,
                        hasSwitchMethod: typeof window.contentEditor?.switchContentPage === 'function'
                    });
                    // Try to initialize basic functionality without ContentEditor
                    if (typeof showNotification === 'function') {
                        showNotification('Content editor failed to initialize. Some features may be limited.', 'warning');
                    }
                    // Try to manually trigger content loading if ContentEditor exists
                    if (window.contentEditor && typeof window.contentEditor.loadPageContent === 'function') {
                        try {
                            window.contentEditor.loadPageContent('home');
                            console.log('Manually triggered home page content loading');
                        } catch (error) {
                            console.error('Failed to manually load home page content:', error);
                        }
                    }
                } else {
                    console.log(`Waiting for ContentEditor to fully initialize... (${contentEditorWaitAttempts}/${maxWaitAttempts})`);
                    if (window.contentEditor) {
                        console.log('ContentEditor exists but not ready:', {
                            initializationComplete: window.contentEditor.initializationComplete,
                            isInitialized: window.contentEditor.isInitialized,
                            hasSwitchMethod: typeof window.contentEditor.switchContentPage === 'function'
                        });
                    }
                    setTimeout(waitForContentEditor, 200);
                }
            }
            
            // Start waiting for ContentEditor after a brief delay
            setTimeout(waitForContentEditor, 1000);
        });
    </script>
    
    <!-- Theme Toggle Script -->
    <script>
        // Theme management
        function toggleTheme() {
            const body = document.body;
            const themeIcon = document.getElementById('themeIcon');
            const currentTheme = body.getAttribute('data-theme');
            
            if (currentTheme === 'dark') {
                body.setAttribute('data-theme', 'light');
                themeIcon.className = 'fas fa-moon';
                localStorage.setItem('theme', 'light');
            } else {
                body.setAttribute('data-theme', 'dark');
                themeIcon.className = 'fas fa-sun';
                localStorage.setItem('theme', 'dark');
            }
            
            // Apply theme to content editor areas
            applyThemeToContentEditor(currentTheme === 'dark' ? 'light' : 'dark');
        }
        
        // Apply theme to content editor areas
        function applyThemeToContentEditor(theme) {
            const contentEditorAreas = document.querySelectorAll('.content-editor-area, .content-editor-container, .section-editor, .page-content-editor');
            contentEditorAreas.forEach(area => {
                area.setAttribute('data-theme', theme);
            });
        }
        
        // Initialize theme on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            const body = document.body;
            const themeIcon = document.getElementById('themeIcon');
            
            body.setAttribute('data-theme', savedTheme);
            
            if (savedTheme === 'dark') {
                themeIcon.className = 'fas fa-sun';
            } else {
                themeIcon.className = 'fas fa-moon';
            }
            
            // Apply initial theme to content editor areas
            applyThemeToContentEditor(savedTheme);
        });
        
        // Enhanced modal animations
        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'flex';
                modal.style.animation = 'modalFadeIn 0.3s ease-out';
                const modalContent = modal.querySelector('.modal-content, .section-creator-modal, .notification-modal-content');
                if (modalContent) {
                    modalContent.style.animation = 'modalSlideIn 0.4s ease-out';
                }
            }
        }
        
        function hideModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.animation = 'modalFadeIn 0.3s ease-out reverse';
                setTimeout(() => {
                    modal.style.display = 'none';
                }, 300);
            }
        }
        
        // Add smooth scrolling to all internal links
        document.addEventListener('DOMContentLoaded', function() {
            const links = document.querySelectorAll('a[href^="#"]');
            links.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
        
        // Table sorting functionality
        let sortDirection = {};
        
        function sortActivityTable(columnIndex) {
            const table = document.querySelector('#activityTableBody').parentElement;
            const tbody = table.querySelector('tbody');
            const rows = Array.from(tbody.querySelectorAll('tr'));
            
            // Skip if no data rows
            if (rows.length === 0 || (rows.length === 1 && rows[0].cells.length === 1)) {
                return;
            }
            
            // Determine sort direction
            const currentDirection = sortDirection[columnIndex] || 'asc';
            const newDirection = currentDirection === 'asc' ? 'desc' : 'asc';
            sortDirection[columnIndex] = newDirection;
            
            // Update header icons
            const headers = table.querySelectorAll('th');
            headers.forEach((header, index) => {
                const icon = header.querySelector('i');
                if (icon) {
                    if (index === columnIndex) {
                        icon.className = newDirection === 'asc' ? 'fas fa-sort-up' : 'fas fa-sort-down';
                        icon.style.opacity = '1';
                    } else {
                        icon.className = 'fas fa-sort';
                        icon.style.opacity = '0.5';
                    }
                }
            });
            
            // Sort rows
            rows.sort((a, b) => {
                const aText = a.cells[columnIndex]?.textContent.trim() || '';
                const bText = b.cells[columnIndex]?.textContent.trim() || '';
                
                // Handle date sorting (column 5)
                if (columnIndex === 5) {
                    const aDate = new Date(aText);
                    const bDate = new Date(bText);
                    return newDirection === 'asc' ? aDate - bDate : bDate - aDate;
                }
                
                // Handle text sorting
                const comparison = aText.localeCompare(bText, undefined, { numeric: true, sensitivity: 'base' });
                return newDirection === 'asc' ? comparison : -comparison;
            });
            
            // Re-append sorted rows
            rows.forEach(row => tbody.appendChild(row));
        }
    </script>

    <!-- Activity Modal -->
    <div class="modal" id="activity">
        <div class="modal-content blue-gradient-form" style="max-width: 900px; border-radius: 1rem; position: relative;">
            <button onclick="closeModal('activity')" style="position: absolute; top: 1rem; right: 1rem; background: var(--glass-bg); border: none; color: var(--text-primary); width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 1.25rem; z-index: 10;">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-header" style="border-bottom: 2px solid var(--border-secondary); padding-bottom: 1rem; margin-bottom: 2rem;">
                <h3 id="activityModalTitle" style="color: var(--text-primary); font-size: 1.8rem; text-shadow: var(--text-shadow); margin: 0; text-align: center;">Add New Activity</h3>
            </div>
            <div class="modal-body">
                <form id="activityForm" onsubmit="saveActivity(event)" enctype="multipart/form-data">
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Title (English) *</label>
                            <input type="text" name="title.en" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Title (Tamil)</label>
                            <input type="text" name="title.ta" class="form-input" style="font-family: 'Noto Sans Tamil', sans-serif;">
                        </div>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Bureau *</label>
                            <select name="bureau" class="form-select" required>
                                <option value="">Select Bureau</option>
                                <option value="media-public-relations">Media & Public Relations</option>
                                <option value="sports-leadership">Sports & Leadership</option>
                                <option value="education-intellectual">Education & Intellectual</option>
                                <option value="arts-culture">Arts & Culture</option>
                                <option value="social-welfare-voluntary">Social Welfare & Voluntary</option>
                                <option value="language-literature">Language & Literature</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Status</label>
                            <select name="status" class="form-select">
                                <option value="draft">Draft</option>
                                <option value="active">Active</option>
                                <option value="archived">Archived</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Director (English) *</label>
                            <input type="text" name="director.en" class="form-input" required placeholder="Director name in English">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Director (Tamil) *</label>
                            <input type="text" name="director.ta" class="form-input" required placeholder="Director name in Tamil" style="font-family: 'Noto Sans Tamil', sans-serif;">
                        </div>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Team Size</label>
                            <input type="number" name="teamSize" class="form-input" min="1" value="1">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Progress (%)</label>
                            <input type="number" name="progress" class="form-input" min="0" max="100" value="0" placeholder="0-100">
                        </div>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Description (English) *</label>
                        <textarea name="description.en" rows="4" class="form-textarea" required></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Description (Tamil)</label>
                        <textarea name="description.ta" rows="4" class="form-textarea" style="font-family: 'Noto Sans Tamil', sans-serif;"></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Activity Images</label>
                        <input type="file" name="images" class="form-input" accept="image/*" multiple onchange="handleActivityImageSelection(event)">
                        <small style="color: var(--text-secondary);">Upload multiple images for the activity (JPG, PNG, WebP). First image will be the primary image.</small>
                        <div id="activity-images-preview" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 1rem; margin-top: 1rem;"></div>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Goals & Objectives (English)</label>
                        <textarea name="goals.en" rows="3" class="form-textarea" placeholder="What are the main goals of this activity?"></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Goals & Objectives (Tamil)</label>
                        <textarea name="goals.ta" rows="3" class="form-textarea" placeholder="    ?" style="font-family: 'Noto Sans Tamil', sans-serif;"></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Key Achievements (English)</label>
                        <textarea name="achievements.en" rows="3" class="form-textarea" placeholder="List key achievements or milestones"></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Key Achievements (Tamil)</label>
                        <textarea name="achievements.ta" rows="3" class="form-textarea" placeholder="    " style="font-family: 'Noto Sans Tamil', sans-serif;"></textarea>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="featured">
                                Featured Activity
                            </label>
                        </div>
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="acceptingVolunteers" checked>
                                Accepting Volunteers
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions" style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border-secondary);">
                        <button type="button" onclick="closeModal('activity')" class="btn btn-secondary">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Activity</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Initiative Modal -->
    <div class="modal" id="initiative">
        <div class="modal-content blue-gradient-form" style="max-width: 900px; border-radius: 1rem; position: relative;">
            <button onclick="closeModal('initiative')" style="position: absolute; top: 1rem; right: 1rem; background: var(--glass-bg); border: none; color: var(--text-primary); width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 1.25rem; z-index: 10;">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-header" style="border-bottom: 2px solid var(--border-secondary); padding-bottom: 1rem; margin-bottom: 2rem;">
                <h3 id="initiativeModalTitle" style="color: var(--text-primary); font-size: 1.8rem; text-shadow: var(--text-shadow); margin: 0; text-align: center;">Add New Initiative</h3>
            </div>
            <div class="modal-body">
                <form id="initiativeForm" onsubmit="saveInitiative(event)" enctype="multipart/form-data">
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Title (English) *</label>
                            <input type="text" name="title.en" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Title (Tamil)</label>
                            <input type="text" name="title.ta" class="form-input" style="font-family: 'Noto Sans Tamil', sans-serif;">
                        </div>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Bureau *</label>
                            <select name="bureau" class="form-select" required>
                                <option value="">Select Bureau</option>
                                <option value="media-public-relations">Media & Public Relations</option>
                                <option value="sports-leadership">Sports & Leadership</option>
                                <option value="education-intellectual">Education & Intellectual</option>
                                <option value="arts-culture">Arts & Culture</option>
                                <option value="social-welfare-voluntary">Social Welfare & Voluntary</option>
                                <option value="language-literature">Language & Literature</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Status</label>
                            <select name="status" class="form-select">
                                <option value="draft">Draft</option>
                                <option value="active">Active</option>
                                <option value="archived">Archived</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Director (English) *</label>
                            <input type="text" name="director.en" class="form-input" required placeholder="Director name in English">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Director (Tamil) *</label>
                            <input type="text" name="director.ta" class="form-input" required placeholder="Director name in Tamil" style="font-family: 'Noto Sans Tamil', sans-serif;">
                        </div>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Team Size</label>
                            <input type="number" name="teamSize" class="form-input" min="1" value="1">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Progress (%)</label>
                            <input type="number" name="progress" class="form-input" min="0" max="100" value="0" placeholder="0-100">
                        </div>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Description (English) *</label>
                        <textarea name="description.en" rows="4" class="form-textarea" required></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Description (Tamil)</label>
                        <textarea name="description.ta" rows="4" class="form-textarea" style="font-family: 'Noto Sans Tamil', sans-serif;"></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Initiative Images</label>
                        <input type="file" name="images" class="form-input" accept="image/*" multiple onchange="handleInitiativeImageSelection(event)">
                        <small style="color: var(--text-secondary);">Upload multiple images for the initiative (JPG, PNG, WebP). First image will be the primary image.</small>
                        <div id="initiative-images-preview" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 1rem; margin-top: 1rem;"></div>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Goals & Objectives (English)</label>
                        <textarea name="goals.en" rows="3" class="form-textarea" placeholder="What are the main goals of this initiative?"></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Goals & Objectives (Tamil)</label>
                        <textarea name="goals.ta" rows="3" class="form-textarea" placeholder="    ?" style="font-family: 'Noto Sans Tamil', sans-serif;"></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Key Achievements (English)</label>
                        <textarea name="achievements.en" rows="3" class="form-textarea" placeholder="List key achievements or milestones"></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Key Achievements (Tamil)</label>
                        <textarea name="achievements.ta" rows="3" class="form-textarea" placeholder="    " style="font-family: 'Noto Sans Tamil', sans-serif;"></textarea>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="featured">
                                Featured Initiative
                            </label>
                        </div>
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="acceptingVolunteers" checked>
                                Accepting Volunteers
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions" style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border-secondary);">
                        <button type="button" onclick="closeModal('initiative')" class="btn btn-secondary">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Initiative</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Project Modal -->
    <div class="modal" id="project">
        <div class="modal-content blue-gradient-form" style="max-width: 900px; border-radius: 1rem; position: relative;">
            <button onclick="closeModal('project')" style="position: absolute; top: 1rem; right: 1rem; background: var(--glass-bg); border: none; color: var(--text-primary); width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 1.25rem; z-index: 10;">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-header" style="border-bottom: 2px solid var(--border-secondary); padding-bottom: 1rem; margin-bottom: 2rem;">
                <h3 id="projectModalTitle" style="color: var(--text-primary); font-size: 1.8rem; text-shadow: var(--text-shadow); margin: 0; text-align: center;">Add New Project</h3>
            </div>
            <div class="modal-body">
                <form id="projectForm" onsubmit="saveProject(event)" enctype="multipart/form-data">
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Title (English) *</label>
                            <input type="text" name="title.en" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Title (Tamil)</label>
                            <input type="text" name="title.ta" class="form-input" style="font-family: 'Noto Sans Tamil', sans-serif;">
                        </div>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Bureau *</label>
                            <select name="bureau" class="form-select" required>
                                <option value="">Select Bureau</option>
                                <option value="media-public-relations">Media & Public Relations</option>
                                <option value="sports-leadership">Sports & Leadership</option>
                                <option value="education-intellectual">Education & Intellectual</option>
                                <option value="arts-culture">Arts & Culture</option>
                                <option value="social-welfare-voluntary">Social Welfare & Voluntary</option>
                                <option value="language-literature">Language & Literature</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Status</label>
                            <select name="status" class="form-select">
                                <option value="draft">Draft</option>
                                <option value="active">Active</option>
                                <option value="archived">Archived</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Status</label>
                            <select name="status" class="form-select">
                                <option value="draft">Draft</option>
                                <option value="active">Active</option>
                                <option value="archived">Archived</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Team Size</label>
                            <input type="number" name="teamSize" class="form-input" min="1" value="1">
                        </div>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Progress (%)</label>
                            <input type="number" name="progress" class="form-input" min="0" max="100" placeholder="0-100">
                        </div>
                        <div class="form-group">
                            <!-- Empty for spacing -->
                        </div>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Director (English)</label>
                            <input type="text" name="director.en" class="form-input">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Director (Tamil)</label>
                            <input type="text" name="director.ta" class="form-input" style="font-family: 'Noto Sans Tamil', sans-serif;">
                        </div>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Description (English) *</label>
                        <textarea name="description.en" rows="4" class="form-textarea" required></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Description (Tamil)</label>
                        <textarea name="description.ta" rows="4" class="form-textarea" style="font-family: 'Noto Sans Tamil', sans-serif;"></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Project Images</label>
                        <input type="file" name="images" class="form-input" accept="image/*" multiple onchange="handleProjectImageSelection(event)">
                        <small style="color: var(--text-secondary);">Upload multiple images for the project (JPG, PNG, WebP). First image will be the primary image.</small>
                        <div id="project-images-preview" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 1rem; margin-top: 1rem;"></div>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Goals & Objectives (English)</label>
                        <textarea name="goals.en" rows="3" class="form-textarea" placeholder="What are the main goals of this project?"></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Goals & Objectives (Tamil)</label>
                        <textarea name="goals.ta" rows="3" class="form-textarea" placeholder="    ?" style="font-family: 'Noto Sans Tamil', sans-serif;"></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Key Achievements (English)</label>
                        <textarea name="achievements.en" rows="3" class="form-textarea" placeholder="List key achievements or milestones"></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Key Achievements (Tamil)</label>
                        <textarea name="achievements.ta" rows="3" class="form-textarea" placeholder="    " style="font-family: 'Noto Sans Tamil', sans-serif;"></textarea>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="featured">
                                Featured Project
                            </label>
                        </div>
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="acceptingVolunteers" checked>
                                Accepting Volunteers
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions" style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border-secondary);">
                        <button type="button" onclick="closeModal('project')" class="btn btn-secondary">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Project</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Join Project Modal -->
    <div class="modal" id="joinProjectModal">
        <div class="modal-content blue-gradient-form" style="max-width: 800px; border-radius: 1rem; position: relative;">
            <button onclick="closeModal('joinProjectModal')" style="position: absolute; top: 1rem; right: 1rem; background: var(--glass-bg); border: none; color: var(--text-primary); width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 1.25rem; z-index: 10;">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-header" style="border-bottom: 2px solid var(--border-secondary); padding-bottom: 1rem; margin-bottom: 2rem;">
                <h3 id="joinProjectModalTitle" style="color: var(--text-primary); font-size: 1.8rem; text-shadow: var(--text-shadow); margin: 0; text-align: center;">Configure Join Form</h3>
            </div>
            <div class="modal-body">
                <form id="joinProjectForm" onsubmit="saveJoinFormConfig(event)">
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Project/Activity/Initiative *</label>
                        <select name="itemType" id="joinItemType" class="form-select" onchange="loadJoinItems()" required>
                            <option value="">Select Type</option>
                            <option value="project">Project</option>
                            <option value="activity">Activity</option>
                            <option value="initiative">Initiative</option>
                        </select>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Select Item *</label>
                        <select name="itemId" id="joinItemId" class="form-select" required>
                            <option value="">Select an item first</option>
                        </select>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Form Title</label>
                        <input type="text" name="formTitle" class="form-input" placeholder="Join Our Project">
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Form Description</label>
                        <textarea name="formDescription" rows="3" class="form-textarea" placeholder="Please fill out this form to join our project..."></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Required Fields</label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 0.5rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="requireName" checked>
                                Full Name
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="requireEmail" checked>
                                Email Address
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="requirePhone">
                                Phone Number
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="requireAddress">
                                Address
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="requireExperience">
                                Experience/Skills
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="requireMotivation">
                                Motivation
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="requireAvailability">
                                Availability
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="requireResume">
                                Resume/CV Upload
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Custom Questions</label>
                        <div id="customQuestions">
                            <div class="custom-question" style="display: flex; gap: 1rem; margin-bottom: 1rem; align-items: end;">
                                <div style="flex: 1;">
                                    <input type="text" name="customQuestion[]" class="form-input" placeholder="Enter custom question">
                                </div>
                                <div style="width: 120px;">
                                    <select name="questionType[]" class="form-select">
                                        <option value="text">Text</option>
                                        <option value="textarea">Long Text</option>
                                        <option value="select">Dropdown</option>
                                        <option value="radio">Radio</option>
                                        <option value="checkbox">Checkbox</option>
                                    </select>
                                </div>
                                <button type="button" onclick="removeCustomQuestion(this)" class="btn btn-danger" style="width: 40px; height: 40px; padding: 0;">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        <button type="button" onclick="addCustomQuestion()" class="btn btn-secondary">
                            <i class="fas fa-plus"></i> Add Question
                        </button>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Success Message</label>
                        <textarea name="successMessage" rows="2" class="form-textarea" placeholder="Thank you for your interest! We will contact you soon."></textarea>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="autoApprove">
                                Auto-approve applications
                            </label>
                        </div>
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" name="sendNotification" checked>
                                Send email notifications
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions" style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border-secondary);">
                        <button type="button" onclick="closeModal('joinProjectModal')" class="btn btn-secondary">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Configuration</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Team Member Modal -->
    <div class="modal" id="teamMember">
        <div class="modal-content blue-gradient-form" style="max-width: 900px; border-radius: 1rem; position: relative;">
            <button onclick="closeModal('teamMember')" style="position: absolute; top: 1rem; right: 1rem; background: var(--glass-bg); border: none; color: var(--text-primary); width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 1.25rem; z-index: 10;">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-header" style="border-bottom: 2px solid var(--border-secondary); padding-bottom: 1rem; margin-bottom: 2rem;">
                <h3 id="teamMemberModalTitle" style="color: var(--text-primary); font-size: 1.8rem; text-shadow: var(--text-shadow); margin: 0; text-align: center;">Add New Team Member</h3>
            </div>
            <div class="modal-body">
                <form id="teamMemberForm" onsubmit="saveTeamMember(event)" enctype="multipart/form-data">
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Name (English) *</label>
                            <input type="text" name="name_en" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Name (Tamil) *</label>
                            <input type="text" name="name_ta" class="form-input" required>
                        </div>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Role *</label>
                            <select name="role" class="form-select" required>
                                <option value="">Select Role</option>
                                <option value="PRESIDENT">President</option>
                                <option value="VICE_PRESIDENT">Vice President</option>
                                <option value="SECRETARY">Secretary</option>
                                <option value="TREASURER">Treasurer</option>
                                <option value="DIRECTOR">Director</option>
                                <option value="MANAGER">Manager</option>
                                <option value="COORDINATOR">Coordinator</option>
                                <option value="ADVISOR">Advisor</option>
                                <option value="MEMBER">Member</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" name="email" class="form-input">
                        </div>
                    </div>
                    
                    <div class="form-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                        <div class="form-group">
                            <label class="form-label">Phone</label>
                            <input type="tel" name="phone" class="form-input">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Order Number</label>
                            <input type="number" name="order_num" class="form-input" min="1" value="1">
                        </div>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Bio (English)</label>
                        <textarea name="bio_en" rows="4" class="form-textarea" placeholder="Enter bio in English"></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Bio (Tamil)</label>
                        <textarea name="bio_ta" rows="4" class="form-textarea" placeholder="Enter bio in Tamil"></textarea>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Profile Image</label>
                        <input type="file" name="image" class="form-input" accept="image/*" onchange="handleTeamMemberImageSelection(event)">
                        <small style="color: var(--text-secondary);">Upload profile image (JPG, PNG, WebP, max 5MB)</small>
                        <div id="team-member-image-preview" style="margin-top: 1rem;"></div>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label class="form-label">Social Links</label>
                        <div id="socialLinksContainer">
                            <div class="social-link-row" style="display: flex; gap: 1rem; margin-bottom: 0.5rem; align-items: end;">
                                <div style="width: 120px;">
                                    <select name="social_platform[]" class="form-select">
                                        <option value="">Platform</option>
                                        <option value="facebook">Facebook</option>
                                        <option value="twitter">Twitter</option>
                                        <option value="linkedin">LinkedIn</option>
                                        <option value="instagram">Instagram</option>
                                        <option value="youtube">YouTube</option>
                                        <option value="website">Website</option>
                                    </select>
                                </div>
                                <div style="flex: 1;">
                                    <input type="url" name="social_url[]" class="form-input" placeholder="Enter URL">
                                </div>
                                <button type="button" onclick="removeSocialLink(this)" class="btn btn-danger" style="width: 40px; height: 40px; padding: 0;">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        <button type="button" onclick="addSocialLink()" class="btn btn-secondary">
                            <i class="fas fa-plus"></i> Add Social Link
                        </button>
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label style="display: flex; align-items: center; gap: 0.5rem;">
                            <input type="checkbox" name="is_active" checked>
                            Active Member
                        </label>
                    </div>
                    
                    <div class="form-actions" style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border-secondary);">
                        <button type="button" onclick="closeModal('teamMember')" class="btn btn-secondary">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Team Member</button>
                    </div>
                </form>
            </div>
        </div>
    </div>



    <!-- Recruitment Management Section -->
    <div class="admin-section" id="recruitment">
        <div class="section-header">
            <h1 style="margin: 0; color: var(--text-primary);">Recruitment Management</h1>
            <p style="color: var(--text-secondary); margin: 0.5rem 0 0 0;">Create dynamic custom forms for activities, projects, and initiatives recruitment</p>
        </div>
        
        <!-- Recruitment Management Container with Content Editor Styling -->
        <div class="content-editor-container recruitment-management-container">
            
            <!-- Navigation Header -->
            <div class="content-navigation-header recruitment-navigation-header">
                
                <!-- Page Selector Row -->
                <div class="page-selector-row recruitment-selector-row">
                    <div class="page-info recruitment-info">
                        <i class="fas fa-user-plus" style="margin-right: 0.5rem;"></i>
                        <span>Recruitment Management System</span>
                    </div>
                    <div class="page-actions recruitment-actions" style="display: flex; gap: 1rem;">
                        <button class="btn btn-info" onclick="refreshRecruitmentData()" style="background: rgba(255,255,255,0.2); border: 2px solid rgba(255,255,255,0.3); color: white; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease;">
                            <i class="fas fa-sync-alt"></i> Refresh Data
                        </button>
                        <button class="btn btn-success" onclick="exportRecruitmentData()" style="background: linear-gradient(135deg, #f97316, #ea580c); color: white; padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; border: none;">
                            <i class="fas fa-download"></i> Export Data
                        </button>
                    </div>
                </div>
                
            </div> <!-- End content-navigation-header -->
            
            <!-- Content Editor Area -->
            <div class="content-editor-area recruitment-editor-area">
        
        <div class="admin-content">
            <!-- Statistics Cards -->
            <div class="recruitment-stats">
                <div class="stat-card" data-stat="total-forms">
                    <div class="stat-icon">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">0</div>
                        <div class="stat-label">Total Forms</div>
                    </div>
                </div>
                <div class="stat-card" data-stat="active-forms">
                    <div class="stat-icon">
                        <i class="fas fa-play-circle"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">0</div>
                        <div class="stat-label">Active Forms</div>
                    </div>
                </div>
                <div class="stat-card" data-stat="total-applications">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">0</div>
                        <div class="stat-label">Applications</div>
                    </div>
                </div>
                <div class="stat-card" data-stat="pending-applications">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-number">0</div>
                        <div class="stat-label">Pending Review</div>
                    </div>
                </div>
            </div>

            <!-- Section 1: Projects, Activities, Initiatives Display -->
            <div class="recruitment-entities-section" style="margin-bottom: 3rem;">
                <div class="section-header" style="margin-bottom: 2rem;">
                    <h2 style="margin: 0; color: var(--text-primary); display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-layer-group"></i> Projects, Activities & Initiatives
                    </h2>
                    <p style="color: var(--text-secondary); margin: 0.5rem 0 0 0;">Browse and create recruitment forms for different entities</p>
                </div>

                <div class="recruitment-tabs">
                    <div class="tab-navigation" style="display: flex; border-bottom: 2px solid var(--border-secondary); margin-bottom: 1.5rem;">
                        <button class="tab-button active" data-tab="projects" onclick="switchRecruitmentTab('projects')" style="padding: 1rem 2rem; border: none; background: none; color: var(--text-primary); font-weight: 600; border-bottom: 3px solid var(--primary-color); cursor: pointer; transition: all 0.3s ease;">
                            <i class="fas fa-project-diagram"></i> Projects
                        </button>
                        <button class="tab-button" data-tab="activities" onclick="switchRecruitmentTab('activities')" style="padding: 1rem 2rem; border: none; background: none; color: var(--text-secondary); font-weight: 600; border-bottom: 3px solid transparent; cursor: pointer; transition: all 0.3s ease;">
                            <i class="fas fa-calendar-alt"></i> Activities
                        </button>
                        <button class="tab-button" data-tab="initiatives" onclick="switchRecruitmentTab('initiatives')" style="padding: 1rem 2rem; border: none; background: none; color: var(--text-secondary); font-weight: 600; border-bottom: 3px solid transparent; cursor: pointer; transition: all 0.3s ease;">
                            <i class="fas fa-lightbulb"></i> Initiatives
                        </button>
                    </div>

                    <!-- Projects Tab -->
                    <div class="tab-content active" id="projects-recruitment-tab">
                        <div class="entity-header" style="margin-bottom: 1.5rem;">
                            <h3 style="margin: 0; color: var(--text-primary);">Projects</h3>
                            <p style="color: var(--text-secondary); margin: 0.5rem 0 0 0; font-size: 0.9rem;">Select a project to create recruitment forms. Each project can have individual Create Form buttons.</p>
                        </div>
                        <div class="entity-selection" style="background: var(--bg-secondary); border-radius: 0.5rem; padding: 1.5rem;">
                            <div class="entity-grid" id="projects-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1rem;">
                                <!-- Projects will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <!-- Activities Tab -->
                    <div class="tab-content" id="activities-recruitment-tab" style="display: none;">
                        <div class="entity-header" style="margin-bottom: 1.5rem;">
                            <h3 style="margin: 0; color: var(--text-primary);">Activities</h3>
                            <p style="color: var(--text-secondary); margin: 0.5rem 0 0 0; font-size: 0.9rem;">Select an activity to create recruitment forms. Each activity can have individual Create Form buttons.</p>
                        </div>
                        <div class="entity-selection" style="background: var(--bg-secondary); border-radius: 0.5rem; padding: 1.5rem;">
                            <div class="entity-grid" id="activities-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1rem;">
                                <!-- Activities will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <!-- Initiatives Tab -->
                    <div class="tab-content" id="initiatives-recruitment-tab" style="display: none;">
                        <div class="entity-header" style="margin-bottom: 1.5rem;">
                            <h3 style="margin: 0; color: var(--text-primary);">Initiatives</h3>
                            <p style="color: var(--text-secondary); margin: 0.5rem 0 0 0; font-size: 0.9rem;">Select an initiative to create recruitment forms. Each initiative can have individual Create Form buttons.</p>
                        </div>
                        <div class="entity-selection" style="background: var(--bg-secondary); border-radius: 0.5rem; padding: 1.5rem;">
                            <div class="entity-grid" id="initiatives-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1rem;">
                                <!-- Initiatives will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 2: Forms Management Table -->
            <div class="forms-management-section">
                <div class="section-header" style="margin-bottom: 2rem;">
                    <h2 style="margin: 0; color: var(--text-primary); display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-table"></i> Forms Management
                    </h2>
                    <p style="color: var(--text-secondary); margin: 0.5rem 0 0 0;">Manage all recruitment forms in one place</p>
                </div>

                <div class="table-controls" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; gap: 1rem; flex-wrap: wrap;">
                    <div class="search-filter" style="display: flex; gap: 1rem; flex-wrap: wrap;">
                        <input type="text" id="formsSearch" placeholder="Search forms..." class="search-input" style="padding: 0.75rem; border: 1px solid var(--border-secondary); border-radius: 0.5rem; background: var(--input-bg); color: var(--text-primary); min-width: 200px;">
                        <select id="formsCategoryFilter" class="filter-select" style="padding: 0.75rem; border: 1px solid var(--border-secondary); border-radius: 0.5rem; background: var(--input-bg); color: var(--text-primary);">
                            <option value="">All Categories</option>
                            <option value="project">Projects</option>
                            <option value="activity">Activities</option>
                            <option value="initiative">Initiatives</option>
                        </select>
                        <select id="statusFilter" class="filter-select" style="padding: 0.75rem; border: 1px solid var(--border-secondary); border-radius: 0.5rem; background: var(--input-bg); color: var(--text-primary);">
                            <option value="">All Status</option>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                            <option value="expired">Expired</option>
                        </select>
                        <select id="roleFilter" class="filter-select" style="padding: 0.75rem; border: 1px solid var(--border-secondary); border-radius: 0.5rem; background: var(--input-bg); color: var(--text-primary);">
                            <option value="">All Roles</option>
                            <option value="crews">Crews</option>
                            <option value="participants">Participants</option>
                            <option value="volunteers">Volunteers</option>
                        </select>
                    </div>
                    <button class="btn btn-secondary" onclick="refreshFormsTable()" style="background: var(--bg-secondary); color: var(--text-primary); border: 1px solid var(--border-secondary); padding: 0.75rem 1.5rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                </div>

                <div class="forms-management-actions" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; gap: 1rem; flex-wrap: wrap;">
                    <button class="btn btn-primary" onclick="openFormBuilder()" style="background: linear-gradient(135deg, #007bff, #0056b3); color: white; padding: 0.75rem 1.5rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; border: none; display: flex; align-items: center; gap: 0.5rem;">
                        <i class="fas fa-plus"></i> Create New Form
                    </button>
                    <div class="bulk-actions" style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-secondary" onclick="exportAllForms()" style="background: var(--bg-secondary); color: var(--text-primary); border: 1px solid var(--border-secondary); padding: 0.75rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; gap: 0.5rem;">
                            <i class="fas fa-download"></i> Export All
                        </button>
                        <button class="btn btn-danger" onclick="deleteSelectedForms()" style="background: linear-gradient(135deg, #dc3545, #c82333); color: white; padding: 0.75rem 1rem; border-radius: 0.5rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; border: none; display: flex; align-items: center; gap: 0.5rem;">
                            <i class="fas fa-trash"></i> Delete Selected
                        </button>
                    </div>
                </div>

                <div class="data-table-container" style="background: var(--card-bg); border-radius: 0.75rem; overflow: hidden; box-shadow: var(--shadow-md);">
                    <table class="data-table" id="formsManagementTable" style="width: 100%; border-collapse: collapse;">
                        <thead style="background: var(--bg-secondary);">
                            <tr>
                                <th style="padding: 1rem; text-align: left; color: var(--text-primary); font-weight: 600; border-bottom: 1px solid var(--border-secondary); width: 40px;">
                                    <input type="checkbox" id="selectAllForms" onchange="toggleAllFormsSelection()" style="cursor: pointer;">
                                </th>
                                <th style="padding: 1rem; text-align: left; color: var(--text-primary); font-weight: 600; border-bottom: 1px solid var(--border-secondary);">Title</th>
                                <th style="padding: 1rem; text-align: left; color: var(--text-primary); font-weight: 600; border-bottom: 1px solid var(--border-secondary);">Target Type</th>
                                <th style="padding: 1rem; text-align: left; color: var(--text-primary); font-weight: 600; border-bottom: 1px solid var(--border-secondary);">Role</th>
                                <th style="padding: 1rem; text-align: left; color: var(--text-primary); font-weight: 600; border-bottom: 1px solid var(--border-secondary);">Available Date</th>
                                <th style="padding: 1rem; text-align: left; color: var(--text-primary); font-weight: 600; border-bottom: 1px solid var(--border-secondary);">Deadline Date</th>
                                <th style="padding: 1rem; text-align: left; color: var(--text-primary); font-weight: 600; border-bottom: 1px solid var(--border-secondary);">Status</th>
                                <th style="padding: 1rem; text-align: left; color: var(--text-primary); font-weight: 600; border-bottom: 1px solid var(--border-secondary);">Responses</th>
                                <th style="padding: 1rem; text-align: left; color: var(--text-primary); font-weight: 600; border-bottom: 1px solid var(--border-secondary);">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="formsTableBody">
                            <!-- Forms data will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>



    <!-- Recruitment Management Modal -->
    <div id="recruitmentManagerModal" class="modal" style="display: none;">
        <div class="modal-dialog modal-fullscreen">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Recruitment Management</h5>
                    <button type="button" class="btn-close" onclick="closeRecruitmentManager()"></button>
                </div>
                <div class="modal-body">
                    <div id="recruitmentManagerContainer" class="recruitment-manager">
                        <!-- Recruitment management interface will be loaded here -->
                    </div>
                </div>
            </div>
        </div> <!-- End recruitment-editor-area -->
        </div> <!-- End recruitment-management-container -->
    </div> <!-- End admin-section recruitment -->
</div> <!-- End admin-main -->

    <script>
    // Section Creator Enhancement Functions
    let featureCounter = { en: 1, ta: 1 };
    
    // Handle section type selection and show dynamic fields
    function selectSectionType(type, element) {
        // Remove active class from all cards
        document.querySelectorAll('.section-type-card').forEach(card => {
            card.classList.remove('active');
            card.style.background = 'var(--glass-bg)';
            card.style.borderColor = 'var(--border-secondary)';
        });
        
        // Add active class to selected card
        element.classList.add('active');
        element.style.background = 'var(--bg-accent)';
        element.style.borderColor = 'var(--accent-primary)';
        
        // Set hidden input value
        document.getElementById('selectedSectionType').value = type;
        
        // Show dynamic content fields
        const dynamicFields = document.getElementById('dynamicContentFields');
        dynamicFields.style.display = 'block';
        
        // Hide all section fields first
        document.querySelectorAll('.section-fields').forEach(field => {
            field.style.display = 'none';
        });
        
        // Show relevant fields based on type
        switch(type) {
            case 'hero':
                document.getElementById('heroFields').style.display = 'block';
                break;
            case 'text':
                document.getElementById('textFields').style.display = 'block';
                break;
            case 'image-text':
                document.getElementById('imageTextFields').style.display = 'block';
                break;
            case 'features':
                document.getElementById('featuresFields').style.display = 'block';
                break;
            default:
                // For other types, hide dynamic fields
                dynamicFields.style.display = 'none';
                break;
        }
    }
    
    // Switch content language
    function switchContentLanguage(lang) {
        // Update language buttons
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.classList.remove('active');
            btn.style.background = 'transparent';
            btn.style.color = 'var(--text-secondary)';
            btn.style.boxShadow = 'none';
        });
        
        const activeBtn = document.querySelector(`[data-lang="${lang}"]`);
        if (activeBtn) {
            activeBtn.classList.add('active');
            activeBtn.style.background = 'var(--bg-accent)';
            activeBtn.style.color = 'var(--text-primary)';
            activeBtn.style.boxShadow = 'var(--shadow-sm)';
        }
        
        // Show/hide language tabs
        document.querySelectorAll('.content-language-tab').forEach(tab => {
            if (tab.getAttribute('data-lang') === lang) {
                tab.style.display = 'block';
            } else {
                tab.style.display = 'none';
            }
        });
    }
    
    // Add feature item to dynamic list
    function addFeatureItem(listId, lang) {
        const list = document.getElementById(listId);
        if (!list) return;
        
        const counter = featureCounter[lang]++;
        
        const featureItem = document.createElement('div');
        featureItem.className = 'feature-item';
        featureItem.style.cssText = 'display: flex; gap: 1rem; margin-bottom: 1rem; align-items: center;';
        
        const titlePlaceholder = lang === 'en' ? 'Feature title' : ' ';
        const descPlaceholder = lang === 'en' ? 'Feature description' : ' ';
        
        featureItem.innerHTML = `
            <input type="text" name="content[${lang}][features][${counter}][title]" class="form-control" placeholder="${titlePlaceholder}" style="flex: 1; padding: 0.75rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
            <input type="text" name="content[${lang}][features][${counter}][description]" class="form-control" placeholder="${descPlaceholder}" style="flex: 2; padding: 0.75rem; border: 2px solid var(--border-secondary); border-radius: 0.5rem; background: var(--bg-secondary); color: var(--text-primary);">
            <button type="button" onclick="removeFeatureItem(this)" class="btn-danger" style="padding: 0.75rem; border: none; background: var(--bg-danger); color: white; border-radius: 0.5rem; cursor: pointer;"></button>
        `;
        
        list.appendChild(featureItem);
    }
    
    // Remove feature item
    function removeFeatureItem(button) {
        const featureItem = button.closest('.feature-item');
        const list = featureItem.parentNode;
        
        // Don't remove if it's the last item
        if (list.children.length > 1) {
            featureItem.remove();
        } else {
            // Clear the inputs instead
            featureItem.querySelectorAll('input').forEach(input => input.value = '');
        }
    }
    
    // Enhanced section creation handler
    function handleSectionCreation(event) {
        event.preventDefault();
        
        const form = event.target;
        const formData = new FormData(form);
        
        // Validate section type
        const sectionType = formData.get('type');
        if (!sectionType) {
            showNotification('Please select a section type', 'error');
            return;
        }
        
        // Collect all form data including dynamic content
        const sectionData = {
            page: formData.get('page'),
            section: formData.get('section'),
            type: sectionType,
            order: parseInt(formData.get('order')) || 1,
            isActive: formData.get('isActive') === 'on',
            description: formData.get('description') || '',
            content: {
                en: {},
                ta: {}
            }
        };
        
        // Process dynamic content based on section type
        for (const [key, value] of formData.entries()) {
            if (key.startsWith('content[')) {
                const match = key.match(/content\[(en|ta)\]\[(.+?)\](?:\[(\d+)\])?(?:\[(.+?)\])?/);
                if (match) {
                    const [, lang, field, index, subfield] = match;
                    
                    if (index !== undefined && subfield) {
                        // Handle array fields like features
                        if (!sectionData.content[lang][field]) {
                            sectionData.content[lang][field] = [];
                        }
                        if (!sectionData.content[lang][field][index]) {
                            sectionData.content[lang][field][index] = {};
                        }
                        sectionData.content[lang][field][index][subfield] = value;
                    } else {
                        // Handle simple fields
                        sectionData.content[lang][field] = value;
                    }
                }
            }
        }
        
        // Clean up empty feature items
        ['en', 'ta'].forEach(lang => {
            if (sectionData.content[lang].features) {
                sectionData.content[lang].features = sectionData.content[lang].features.filter(feature => 
                    feature && (feature.title || feature.description)
                );
            }
        });
        
        console.log('Creating section with data:', sectionData);
        createSection(sectionData);
    }
    
    // Override the original section type card click handlers
    document.addEventListener('DOMContentLoaded', function() {
        // Update existing section type cards to use new handler
        document.querySelectorAll('.section-type-card').forEach(card => {
            const type = card.getAttribute('data-type');
            if (type) {
                card.onclick = () => selectSectionType(type, card);
            }
        });
        
        // Update form submission handler
        const sectionForm = document.getElementById('sectionCreatorForm');
        if (sectionForm) {
            sectionForm.onsubmit = handleSectionCreation;
        }
    });
    </script>
    
    <script src="frontend/public/js/scroll-animations.js?v=1.0"></script>

    </div> <!-- Close admin-container -->
</body>
</html>
